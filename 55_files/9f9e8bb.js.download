/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1571:function(e,t,r){"use strict";(function(t){var n=r(2342),o=r(1997),c=r(2023),l=r(1881),f={};function h(e,t){if("object"!=typeof e||t||(t=e,e=null),t=t||{},e){var r=c.parse(e,!0);if(null!=r.port&&(r.port=Number(r.port)),null===(t=l(r,t)).protocol)throw new Error("Missing protocol");t.protocol=t.protocol.replace(/:$/,"")}if(function(e){var t;e.auth&&((t=e.auth.match(/^(.+):(.+)$/))?(e.username=t[1],e.password=t[2]):e.username=e.auth)}(t),t.query&&"string"==typeof t.query.clientId&&(t.clientId=t.query.clientId),t.cert&&t.key){if(!t.protocol)throw new Error("Missing secure protocol key");if(-1===["mqtts","wss","wxs","alis"].indexOf(t.protocol))switch(t.protocol){case"mqtt":t.protocol="mqtts";break;case"ws":t.protocol="wss";break;case"wx":t.protocol="wxs";break;case"ali":t.protocol="alis";break;default:throw new Error('Unknown protocol for secure connection: "'+t.protocol+'"!')}}if(!f[t.protocol]){var o=-1!==["mqtts","wss"].indexOf(t.protocol);t.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((function(e,t){return(!o||t%2!=0)&&"function"==typeof f[e]}))[0]}if(!1===t.clean&&!t.clientId)throw new Error("Missing clientId for unclean clients");return t.protocol&&(t.defaultProtocol=t.protocol),new n((function(e){return t.servers&&(e._reconnectCount&&e._reconnectCount!==t.servers.length||(e._reconnectCount=0),t.host=t.servers[e._reconnectCount].host,t.port=t.servers[e._reconnectCount].port,t.protocol=t.servers[e._reconnectCount].protocol?t.servers[e._reconnectCount].protocol:t.defaultProtocol,t.hostname=t.host,e._reconnectCount++),f[t.protocol](e,t)}),t)}"browser"!==t.title?(f.mqtt=r(2024),f.tcp=r(2024),f.ssl=r(1887),f.tls=r(1887),f.mqtts=r(1887)):(f.wx=r(2025),f.wxs=r(2025),f.ali=r(2026),f.alis=r(2026)),f.ws=r(2027),f.wss=r(2027),e.exports=h,e.exports.connect=h,e.exports.MqttClient=n,e.exports.Store=o}).call(this,r(205))},1625:function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},1643:function(e,t,r){"use strict";var n=r(1695),o=r(2008),c=r(1883),l=r(2009),f=r(2010);(e.exports=function(e,t){var r,o,h,d,desc;return arguments.length<2||"string"!=typeof e?(d=t,t=e,e=null):d=arguments[2],n(e)?(r=f.call(e,"c"),o=f.call(e,"e"),h=f.call(e,"w")):(r=h=!0,o=!1),desc={value:t,configurable:r,enumerable:o,writable:h},d?c(l(d),desc):desc}).gs=function(e,t,r){var h,d,_,desc;return"string"!=typeof e?(_=r,r=t,t=e,e=null):_=arguments[3],n(t)?o(t)?n(r)?o(r)||(_=r,r=void 0):r=void 0:(_=t,t=r=void 0):t=void 0,n(e)?(h=f.call(e,"c"),d=f.call(e,"e")):(h=!0,d=!1),desc={get:t,set:r,configurable:h,enumerable:d},_?c(l(_),desc):desc}},1647:function(e,t,r){"use strict";var n=r(1694);e.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},1660:function(e,t,r){"use strict";e.exports=r(2369)()?r(1845).Symbol:r(2372)},1668:function(e,t,r){"use strict";var n,o="object"==typeof Reflect?Reflect:null,c=o&&"function"==typeof o.apply?o.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var l=Number.isNaN||function(e){return e!=e};function f(){f.init.call(this)}e.exports=f,e.exports.once=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,c),n(r)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}k(e,t,c,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&k(e,"error",t,r)}(e,o,{once:!0})}))},f.EventEmitter=f,f.prototype._events=void 0,f.prototype._eventsCount=0,f.prototype._maxListeners=void 0;var h=10;function d(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _(e){return void 0===e._maxListeners?f.defaultMaxListeners:e._maxListeners}function y(e,t,r,n){var o,c,l,f;if(d(r),void 0===(c=e._events)?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),c=e._events),l=c[t]),void 0===l)l=c[t]=r,++e._eventsCount;else if("function"==typeof l?l=c[t]=n?[r,l]:[l,r]:n?l.unshift(r):l.push(r),(o=_(e))>0&&l.length>o&&!l.warned){l.warned=!0;var h=new Error("Possible EventEmitter memory leak detected. "+l.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");h.name="MaxListenersExceededWarning",h.emitter=e,h.type=t,h.count=l.length,f=h,console&&console.warn&&console.warn(f)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function v(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=m.bind(n);return o.listener=r,n.wrapFn=o,o}function w(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):E(o,o.length)}function S(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function E(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function k(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(c){n.once&&e.removeEventListener(t,o),r(c)}))}}Object.defineProperty(f,"defaultMaxListeners",{enumerable:!0,get:function(){return h},set:function(e){if("number"!=typeof e||e<0||l(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");h=e}}),f.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},f.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||l(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},f.prototype.getMaxListeners=function(){return _(this)},f.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var r="error"===e,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var l=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw l.context=o,l}var f=n[e];if(void 0===f)return!1;if("function"==typeof f)c(f,this,t);else{var h=f.length,d=E(f,h);for(i=0;i<h;++i)c(d[i],this,t)}return!0},f.prototype.addListener=function(e,t){return y(this,e,t,!1)},f.prototype.on=f.prototype.addListener,f.prototype.prependListener=function(e,t){return y(this,e,t,!0)},f.prototype.once=function(e,t){return d(t),this.on(e,v(this,e,t)),this},f.prototype.prependOnceListener=function(e,t){return d(t),this.prependListener(e,v(this,e,t)),this},f.prototype.removeListener=function(e,t){var r,n,o,i,c;if(d(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){c=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,c||t)}return this},f.prototype.off=f.prototype.removeListener,f.prototype.removeAllListeners=function(e){var t,r,i;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var n,o=Object.keys(r);for(i=0;i<o.length;++i)"removeListener"!==(n=o[i])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},f.prototype.listeners=function(e){return w(this,e,!0)},f.prototype.rawListeners=function(e){return w(this,e,!1)},f.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):S.call(e,t)},f.prototype.listenerCount=S,f.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},1669:function(e,t,r){"use strict";e.exports=function(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return e}},1692:function(e,t,r){(t=e.exports=r(1998)).Stream=t,t.Readable=t,t.Writable=r(2001),t.Duplex=r(1693),t.Transform=r(2003),t.PassThrough=r(2344)},1693:function(e,t,r){"use strict";var n=r(1743),o=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=y;var c=Object.create(r(1745));c.inherits=r(1625);var l=r(1998),f=r(2001);c.inherits(y,l);for(var h=o(f.prototype),d=0;d<h.length;d++){var _=h[d];y.prototype[_]||(y.prototype[_]=f.prototype[_])}function y(e){if(!(this instanceof y))return new y(e);l.call(this,e),f.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",m)}function m(){this.allowHalfOpen||this._writableState.ended||n.nextTick(v,this)}function v(e){e.end()}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(y.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),y.prototype._destroy=function(e,t){this.push(null),this.end(),n.nextTick(t,e)}},1694:function(e,t,r){"use strict";var n=r(2348)();e.exports=function(e){return e!==n&&null!==e}},1695:function(e,t,r){"use strict";e.exports=function(e){return null!=e}},1696:function(e,t,r){"use strict";var n={};function o(code,e,t){t||(t=Error);var r=function(t){var r,n;function o(r,n,o){return t.call(this,function(t,r,n){return"string"==typeof e?e:e(t,r,n)}(r,n,o))||this}return n=t,(r=o).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,o}(t);r.prototype.name=t.name,r.prototype.code=code,n[code]=r}function c(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(i){return String(i)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}o("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),o("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n,o,l,f;if("string"==typeof t&&(o="not ",t.substr(!l||l<0?0:+l,o.length)===o)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))f="The ".concat(e," ").concat(n," ").concat(c(t,"type"));else{var h=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";f='The "'.concat(e,'" ').concat(h," ").concat(n," ").concat(c(t,"type"))}return f+=". Received type ".concat(typeof r)}),TypeError),o("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),o("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),o("ERR_STREAM_PREMATURE_CLOSE","Premature close"),o("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),o("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),o("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),o("ERR_STREAM_WRITE_AFTER_END","write after end"),o("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),o("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),o("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=n},1697:function(e,t,r){"use strict";(function(t){var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=d;var o=r(2014),c=r(2018);r(1625)(d,o);for(var l=n(c.prototype),f=0;f<l.length;f++){var h=l[f];d.prototype[h]||(d.prototype[h]=c.prototype[h])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),c.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",_)))}function _(){this._writableState.ended||t.nextTick(y,this)}function y(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(d.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(d.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this,r(205))},1743:function(e,t,r){"use strict";(function(t){void 0===t||!t.version||0===t.version.indexOf("v0.")||0===t.version.indexOf("v1.")&&0!==t.version.indexOf("v1.8.")?e.exports={nextTick:function(e,r,n,o){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var c,i,l=arguments.length;switch(l){case 0:case 1:return t.nextTick(e);case 2:return t.nextTick((function(){e.call(null,r)}));case 3:return t.nextTick((function(){e.call(null,r,n)}));case 4:return t.nextTick((function(){e.call(null,r,n,o)}));default:for(c=new Array(l-1),i=0;i<c.length;)c[i++]=arguments[i];return t.nextTick((function(){e.apply(null,c)}))}}}:e.exports=t}).call(this,r(205))},1744:function(e,t,r){var n=r(328),o=n.Buffer;function c(e,t){for(var r in e)t[r]=e[r]}function l(e,t,r){return o(e,t,r)}o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow?e.exports=n:(c(n,t),t.Buffer=l),c(o,l),l.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return o(e,t,r)},l.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=o(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},l.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o(e)},l.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},1745:function(e,t,r){(function(e){function r(e){return Object.prototype.toString.call(e)}t.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===r(e)},t.isBoolean=function(e){return"boolean"==typeof e},t.isNull=function(e){return null===e},t.isNullOrUndefined=function(e){return null==e},t.isNumber=function(e){return"number"==typeof e},t.isString=function(e){return"string"==typeof e},t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=function(e){return void 0===e},t.isRegExp=function(e){return"[object RegExp]"===r(e)},t.isObject=function(e){return"object"==typeof e&&null!==e},t.isDate=function(e){return"[object Date]"===r(e)},t.isError=function(e){return"[object Error]"===r(e)||e instanceof Error},t.isFunction=function(e){return"function"==typeof e},t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=e.isBuffer}).call(this,r(328).Buffer)},1843:function(e,t,r){"use strict";var n=r(1744).Buffer,o=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function c(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=h,this.end=d,t=4;break;case"utf8":this.fillLast=f,t=4;break;case"base64":this.text=_,this.end=y,t=3;break;default:return this.write=m,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function l(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function f(e){var p=this.lastTotal-this.lastNeed,t=function(e,t,p){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==t?t:this.lastNeed<=e.length?(e.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,p,0,e.length),void(this.lastNeed-=e.length))}function h(e,i){if((e.length-i)%2==0){var t=e.toString("utf16le",i);if(t){var r=t.charCodeAt(t.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",i,e.length-1)}function d(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function _(e,i){var t=(e.length-i)%3;return 0===t?e.toString("base64",i):(this.lastNeed=3-t,this.lastTotal=3,1===t?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",i,e.length-t))}function y(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function m(e){return e.toString(this.encoding)}function v(e){return e&&e.length?this.write(e):""}t.StringDecoder=c,c.prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},c.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},c.prototype.text=function(e,i){var t=function(e,t,i){var r=t.length-1;if(r<i)return 0;var n=l(t[r]);if(n>=0)return n>0&&(e.lastNeed=n-1),n;if(--r<i||-2===n)return 0;if((n=l(t[r]))>=0)return n>0&&(e.lastNeed=n-2),n;if(--r<i||-2===n)return 0;if((n=l(t[r]))>=0)return n>0&&(2===n?n=0:e.lastNeed=n-3),n;return 0}(this,e,i);if(!this.lastNeed)return e.toString("utf8",i);this.lastTotal=t;var r=e.length-(t-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",i,r)},c.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},1844:function(e,t,r){"use strict";e.exports=r(2006)()?Object.setPrototypeOf:r(2007)},1845:function(e,t,r){"use strict";e.exports=r(2370)()?globalThis:r(2371)},1846:function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(function(){return arguments}());e.exports=function(e){return n.call(e)===o}},1847:function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call("");e.exports=function(e){return"string"==typeof e||e&&"object"==typeof e&&(e instanceof String||n.call(e)===o)||!1}},1881:function(e,t){e.exports=function(){for(var e={},i=0;i<arguments.length;i++){var source=arguments[i];for(var t in source)r.call(source,t)&&(e[t]=source[t])}return e};var r=Object.prototype.hasOwnProperty},1882:function(e,t,r){"use strict";var n=r(1695),o={object:!0,function:!0,undefined:!0};e.exports=function(e){return!!n(e)&&hasOwnProperty.call(o,typeof e)}},1883:function(e,t,r){"use strict";e.exports=r(2361)()?Object.assign:r(2362)},1884:function(e,t,r){"use strict";var n,o=r(2004),c=r(1883),l=r(1669),f=r(1647),h=r(1643),d=r(2381),_=r(1660),y=Object.defineProperty,m=Object.defineProperties;e.exports=n=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");m(this,{__list__:h("w",f(e)),__context__:h("w",t),__nextIndex__:h("w",0)}),t&&(l(t.on),t.on("_add",this._onAdd),t.on("_delete",this._onDelete),t.on("_clear",this._onClear))},delete n.prototype.constructor,m(n.prototype,c({_next:h((function(){var i;if(this.__list__)return this.__redo__&&void 0!==(i=this.__redo__.shift())?i:this.__nextIndex__<this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:h((function(){return this._createResult(this._next())})),_createResult:h((function(i){return void 0===i?{done:!0,value:void 0}:{done:!1,value:this._resolve(i)}})),_resolve:h((function(i){return this.__list__[i]})),_unBind:h((function(){this.__list__=null,delete this.__redo__,this.__context__&&(this.__context__.off("_add",this._onAdd),this.__context__.off("_delete",this._onDelete),this.__context__.off("_clear",this._onClear),this.__context__=null)})),toString:h((function(){return"[object "+(this[_.toStringTag]||"Object")+"]"}))},d({_onAdd:h((function(e){e>=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(t,i){t>=e&&(this.__redo__[i]=++t)}),this),this.__redo__.push(e)):y(this,"__redo__",h("c",[e])))})),_onDelete:h((function(e){var i;e>=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&&(-1!==(i=this.__redo__.indexOf(e))&&this.__redo__.splice(i,1),this.__redo__.forEach((function(t,r){t>e&&(this.__redo__[r]=--t)}),this)))})),_onClear:h((function(){this.__redo__&&o.call(this.__redo__),this.__nextIndex__=0}))}))),y(n.prototype,_.iterator,h((function(){return this})))},1885:function(e,t,r){"use strict";var n=r(1696).codes.ERR_STREAM_PREMATURE_CLOSE;function o(){}e.exports=function e(t,r,c){if("function"==typeof r)return e(t,null,r);r||(r={}),c=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];e.apply(this,n)}}}(c||o);var l=r.readable||!1!==r.readable&&t.readable,f=r.writable||!1!==r.writable&&t.writable,h=function(){t.writable||_()},d=t._writableState&&t._writableState.finished,_=function(){f=!1,d=!0,l||c.call(t)},y=t._readableState&&t._readableState.endEmitted,m=function(){l=!1,y=!0,f||c.call(t)},v=function(e){c.call(t,e)},w=function(){var e;return l&&!y?(t._readableState&&t._readableState.ended||(e=new n),c.call(t,e)):f&&!d?(t._writableState&&t._writableState.ended||(e=new n),c.call(t,e)):void 0},S=function(){t.req.on("finish",_)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(t)?f&&!t._writableState&&(t.on("end",h),t.on("close",h)):(t.on("complete",_),t.on("abort",w),t.req?S():t.on("request",S)),t.on("end",m),t.on("finish",_),!1!==r.error&&t.on("error",v),t.on("close",w),function(){t.removeListener("complete",_),t.removeListener("abort",w),t.removeListener("request",S),t.req&&t.req.removeListener("finish",_),t.removeListener("end",h),t.removeListener("close",h),t.removeListener("finish",_),t.removeListener("end",m),t.removeListener("error",v),t.removeListener("close",w)}}},1886:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},1887:function(e,t,r){"use strict";var n=r(1577);e.exports=function(e,t){var r;function o(n){t.rejectUnauthorized&&e.emit("error",n),r.end()}return t.port=t.port||8883,t.host=t.hostname||t.host||"localhost",t.rejectUnauthorized=!1!==t.rejectUnauthorized,delete t.path,(r=n.connect(t)).on("secureConnect",(function(){t.rejectUnauthorized&&!r.authorized?r.emit("error",new Error("TLS not authorized")):r.removeListener("error",o)})),r.on("error",o),r}},1888:function(e,t,r){(function(t,n){var o=r(1692),c=r(2422),l=r(1625),f=r(2425),h=t.from&&t.from!==Uint8Array.from?t.from([0]):new t([0]),d=function(e,t){e._corked?e.once("uncork",t):t()},_=function(e,t){return function(r){r?function(e,t){e._autoDestroy&&e.destroy(t)}(e,"premature close"===r.message?null:r):t&&!e._ended&&e.end()}},y=function(e,t,r){if(!(this instanceof y))return new y(e,t,r);o.Duplex.call(this,r),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!r||!1!==r.autoDestroy,this._forwardDestroy=!r||!1!==r.destroy,this._forwardEnd=!r||!1!==r.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,e&&this.setWritable(e),t&&this.setReadable(t)};l(y,o.Duplex),y.obj=function(e,t,r){return r||(r={}),r.objectMode=!0,r.highWaterMark=16,new y(e,t,r)},y.prototype.cork=function(){1==++this._corked&&this.emit("cork")},y.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},y.prototype.setWritable=function(e){if(this._unwrite&&this._unwrite(),this.destroyed)e&&e.destroy&&e.destroy();else if(null!==e&&!1!==e){var t=this,r=c(e,{writable:!0,readable:!1},_(this,this._forwardEnd)),o=function(){var e=t._ondrain;t._ondrain=null,e&&e()};this._unwrite&&n.nextTick(o),this._writable=e,this._writable.on("drain",o),this._unwrite=function(){t._writable.removeListener("drain",o),r()},this.uncork()}else this.end()},y.prototype.setReadable=function(e){if(this._unread&&this._unread(),this.destroyed)e&&e.destroy&&e.destroy();else{if(null===e||!1===e)return this.push(null),void this.resume();var t,r=this,n=c(e,{writable:!1,readable:!0},_(this)),l=function(){r._forward()},f=function(){r.push(null)};this._drained=!0,this._readable=e,this._readable2=e._readableState?e:(t=e,new o.Readable({objectMode:!0,highWaterMark:16}).wrap(t)),this._readable2.on("readable",l),this._readable2.on("end",f),this._unread=function(){r._readable2.removeListener("readable",l),r._readable2.removeListener("end",f),n()},this._forward()}},y.prototype._read=function(){this._drained=!0,this._forward()},y.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var data;for(this._forwarding=!0;this._drained&&null!==(data=f(this._readable2));)this.destroyed||(this._drained=this.push(data));this._forwarding=!1}},y.prototype.destroy=function(e){if(!this.destroyed){this.destroyed=!0;var t=this;n.nextTick((function(){t._destroy(e)}))}},y.prototype._destroy=function(e){if(e){var t=this._ondrain;this._ondrain=null,t?t(e):this.emit("error",e)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},y.prototype._write=function(data,e,t){return this.destroyed?t():this._corked?d(this,this._write.bind(this,data,e,t)):data===h?this._finish(t):this._writable?void(!1===this._writable.write(data)?this._ondrain=t:t()):t()},y.prototype._finish=function(e){var t=this;this.emit("preend"),d(this,(function(){var r,n;r=t._forwardEnd&&t._writable,n=function(){!1===t._writableState.prefinished&&(t._writableState.prefinished=!0),t.emit("prefinish"),d(t,e)},r?r._writableState&&r._writableState.finished?n():r._writableState?r.end(n):(r.end(),n()):n()}))},y.prototype.end=function(data,e,t){return"function"==typeof data?this.end(null,null,data):"function"==typeof e?this.end(data,null,e):(this._ended=!0,data&&this.write(data),this._writableState.ending||this.write(h),o.Writable.prototype.end.call(this,t))},e.exports=y}).call(this,r(328).Buffer,r(205))},1997:function(e,t,r){"use strict";(function(t){var n=r(1881),o=r(1692).Readable,c={objectMode:!0},l={clean:!0},f=r(2345);function h(e){if(!(this instanceof h))return new h(e);this.options=e||{},this.options=n(l,e),this._inflights=new f}h.prototype.put=function(e,t){return this._inflights.set(e.messageId,e),t&&t(),this},h.prototype.createStream=function(){var e=new o(c),r=!1,n=[],i=0;return this._inflights.forEach((function(e,t){n.push(e)})),e._read=function(){!r&&i<n.length?this.push(n[i++]):this.push(null)},e.destroy=function(){if(!r){var e=this;r=!0,t.nextTick((function(){e.emit("close")}))}},e},h.prototype.del=function(e,t){return(e=this._inflights.get(e.messageId))?(this._inflights.delete(e.messageId),t(null,e)):t&&t(new Error("missing packet")),this},h.prototype.get=function(e,t){return(e=this._inflights.get(e.messageId))?t(null,e):t&&t(new Error("missing packet")),this},h.prototype.close=function(e){this.options.clean&&(this._inflights=null),e&&e()},e.exports=h}).call(this,r(205))},1998:function(e,t,r){"use strict";(function(t,n){var o=r(1743);e.exports=O;var c,l=r(366);O.ReadableState=x;r(1668).EventEmitter;var f=function(e,t){return e.listeners(t).length},h=r(1999),d=r(1744).Buffer,_=t.Uint8Array||function(){};var y=Object.create(r(1745));y.inherits=r(1625);var m=r(1572),v=void 0;v=m&&m.debuglog?m.debuglog("stream"):function(){};var w,S=r(2343),E=r(2e3);y.inherits(O,h);var k=["error","close","destroy","pause","resume"];function x(e,t){e=e||{};var n=t instanceof(c=c||r(1693));this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode);var o=e.highWaterMark,l=e.readableHighWaterMark,f=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(l||0===l)?l:f,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new S,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(w||(w=r(1843).StringDecoder),this.decoder=new w(e.encoding),this.encoding=e.encoding)}function O(e){if(c=c||r(1693),!(this instanceof O))return new O(e);this._readableState=new x(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),h.call(this)}function C(e,t,r,n,o){var c,l=e._readableState;null===t?(l.reading=!1,function(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,P(e)}(e,l)):(o||(c=function(e,t){var r;n=t,d.isBuffer(n)||n instanceof _||"string"==typeof t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(l,t)),c?e.emit("error",c):l.objectMode||t&&t.length>0?("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===d.prototype||(t=function(e){return d.from(e)}(t)),n?l.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):I(e,l,t,!0):l.ended?e.emit("error",new Error("stream.push() after EOF")):(l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?I(e,l,t,!1):M(e,l)):I(e,l,t,!1))):n||(l.reading=!1));return function(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}(l)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(e.emit("data",r),e.read(0)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),M(e,t)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),O.prototype.destroy=E.destroy,O.prototype._undestroy=E.undestroy,O.prototype._destroy=function(e,t){this.push(null),t(e)},O.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=d.from(e,t),t=""),r=!0),C(this,e,t,!1,r)},O.prototype.unshift=function(e){return C(this,e,null,!0,!1)},O.prototype.isPaused=function(){return!1===this._readableState.flowing},O.prototype.setEncoding=function(e){return w||(w=r(1843).StringDecoder),this._readableState.decoder=new w(e),this._readableState.encoding=e,this};var R=8388608;function T(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=R?e=R:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(v("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?o.nextTick(j,e):j(e))}function j(e){v("emit readable"),e.emit("readable"),B(e)}function M(e,t){t.readingMore||(t.readingMore=!0,o.nextTick(A,e,t))}function A(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(v("maybeReadMore read 0"),e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function L(e){v("readable nexttick read 0"),e.read(0)}function N(e,t){t.reading||(v("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),B(e),t.flowing&&!t.reading&&e.read(0)}function B(e){var t=e._readableState;for(v("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):r=function(e,t,r){var n;e<t.head.data.length?(n=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):n=e===t.head.data.length?t.shift():r?function(e,t){var p=t.head,r=1,n=p.data;e-=n.length;for(;p=p.next;){var o=p.data,c=e>o.length?o.length:e;if(c===o.length?n+=o:n+=o.slice(0,e),0===(e-=c)){c===o.length?(++r,p.next?t.head=p.next:t.head=t.tail=null):(t.head=p,p.data=o.slice(c));break}++r}return t.length-=r,n}(e,t):function(e,t){var r=d.allocUnsafe(e),p=t.head,n=1;p.data.copy(r),e-=p.data.length;for(;p=p.next;){var o=p.data,c=e>o.length?o.length:e;if(o.copy(r,r.length-e,0,c),0===(e-=c)){c===o.length?(++n,p.next?t.head=p.next:t.head=t.tail=null):(t.head=p,p.data=o.slice(c));break}++n}return t.length-=n,r}(e,t);return n}(e,t.buffer,t.decoder),r);var r}function U(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,o.nextTick(F,t,e))}function F(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function W(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}O.prototype.read=function(e){v("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return v("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):P(this),null;if(0===(e=T(e,t))&&t.ended)return 0===t.length&&U(this),null;var n,o=t.needReadable;return v("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&v("length less than watermark",o=!0),t.ended||t.reading?v("reading or ended",o=!1):o&&(v("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=T(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&U(this)),null!==n&&this.emit("data",n),n},O.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(e,t){var r=this,c=this._readableState;switch(c.pipesCount){case 0:c.pipes=e;break;case 1:c.pipes=[c.pipes,e];break;default:c.pipes.push(e)}c.pipesCount+=1,v("pipe count=%d opts=%j",c.pipesCount,t);var h=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?_:O;function d(t,n){v("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,v("cleanup"),e.removeListener("close",k),e.removeListener("finish",x),e.removeListener("drain",y),e.removeListener("error",E),e.removeListener("unpipe",d),r.removeListener("end",_),r.removeListener("end",O),r.removeListener("data",S),m=!0,!c.awaitDrain||e._writableState&&!e._writableState.needDrain||y())}function _(){v("onend"),e.end()}c.endEmitted?o.nextTick(h):r.once("end",h),e.on("unpipe",d);var y=function(e){return function(){var t=e._readableState;v("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&f(e,"data")&&(t.flowing=!0,B(e))}}(r);e.on("drain",y);var m=!1;var w=!1;function S(t){v("ondata"),w=!1,!1!==e.write(t)||w||((1===c.pipesCount&&c.pipes===e||c.pipesCount>1&&-1!==W(c.pipes,e))&&!m&&(v("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,w=!0),r.pause())}function E(t){v("onerror",t),O(),e.removeListener("error",E),0===f(e,"error")&&e.emit("error",t)}function k(){e.removeListener("finish",x),O()}function x(){v("onfinish"),e.removeListener("close",k),O()}function O(){v("unpipe"),r.unpipe(e)}return r.on("data",S),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?l(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",E),e.once("close",k),e.once("finish",x),e.emit("pipe",r),c.flowing||(v("pipe resume"),r.resume()),e},O.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,r);return this}var c=W(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},O.prototype.on=function(e,t){var r=h.prototype.on.call(this,e,t);if("data"===e)!1!==this._readableState.flowing&&this.resume();else if("readable"===e){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&P(this):o.nextTick(L,this))}return r},O.prototype.addListener=O.prototype.on,O.prototype.resume=function(){var e=this._readableState;return e.flowing||(v("resume"),e.flowing=!0,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(N,e,t))}(this,e)),this},O.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this},O.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(v("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(v("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){v("wrapped _read",t),n&&(n=!1,e.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=D}).call(this,r(60),r(205))},1999:function(e,t,r){e.exports=r(1668).EventEmitter},2e3:function(e,t,r){"use strict";var n=r(1743);function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,c=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return c||l?(t?t(e):!e||this._writableState&&this._writableState.errorEmitted||n.nextTick(o,this,e),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(n.nextTick(o,r,e),r._writableState&&(r._writableState.errorEmitted=!0)):t&&t(e)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},2001:function(e,t,r){"use strict";(function(t){var n=r(1743);function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}e.exports=E;var c,l=n.nextTick;E.WritableState=S;var f=Object.create(r(1745));f.inherits=r(1625);var h={deprecate:r(2002)},d=r(1999),_=r(1744).Buffer,y=t.Uint8Array||function(){};var m,v=r(2e3);function w(){}function S(e,t){c=c||r(1693),e=e||{};var f=t instanceof c;this.objectMode=!!e.objectMode,f&&(this.objectMode=this.objectMode||!!e.writableObjectMode);var h=e.highWaterMark,d=e.writableHighWaterMark,_=this.objectMode?16:16384;this.highWaterMark=h||0===h?h:f&&(d||0===d)?d:_,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var y=!1===e.decodeStrings;this.decodeStrings=!y,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,o=r.sync,c=r.writecb;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,o,c){--t.pendingcb,r?(n.nextTick(c,o),n.nextTick(R,e,t),e._writableState.errorEmitted=!0,e.emit("error",o)):(c(o),e._writableState.errorEmitted=!0,e.emit("error",o),R(e,t))}(e,r,o,t,c);else{var f=C(r);f||r.corked||r.bufferProcessing||!r.bufferedRequest||O(e,r),o?l(x,e,r,f,c):x(e,r,f,c)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function E(e){if(c=c||r(1693),!(m.call(E,this)||this instanceof c))return new E(e);this._writableState=new S(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),d.call(this)}function k(e,t,r,n,o,c,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,r?e._writev(o,t.onwrite):e._write(o,c,t.onwrite),t.sync=!1}function x(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),R(e,t)}function O(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,c=new Array(n),l=t.corkedRequestsFree;l.entry=r;for(var f=0,h=!0;r;)c[f]=r,r.isBuf||(h=!1),r=r.next,f+=1;c.allBuffers=h,k(e,t,!0,t.length,c,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,_=r.encoding,y=r.callback;if(k(e,t,!1,t.objectMode?1:d.length,d,_,y),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function C(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function I(e,t){e._final((function(r){t.pendingcb--,r&&e.emit("error",r),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var r=C(t);return r&&(!function(e,t){t.prefinished||t.finalCalled||("function"==typeof e._final?(t.pendingcb++,t.finalCalled=!0,n.nextTick(I,e,t)):(t.prefinished=!0,e.emit("prefinish")))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}f.inherits(E,d),S.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(S.prototype,"buffer",{get:h.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(m=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(object){return!!m.call(this,object)||this===E&&(object&&object._writableState instanceof S)}})):m=function(object){return object instanceof this},E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},E.prototype.write=function(e,t,r){var o,c=this._writableState,l=!1,f=!c.objectMode&&(o=e,_.isBuffer(o)||o instanceof y);return f&&!_.isBuffer(e)&&(e=function(e){return _.from(e)}(e)),"function"==typeof t&&(r=t,t=null),f?t="buffer":t||(t=c.defaultEncoding),"function"!=typeof r&&(r=w),c.ended?function(e,t){var r=new Error("write after end");e.emit("error",r),n.nextTick(t,r)}(this,r):(f||function(e,t,r,o){var c=!0,l=!1;return null===r?l=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||t.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(e.emit("error",l),n.nextTick(o,l),c=!1),c}(this,c,e,r))&&(c.pendingcb++,l=function(e,t,r,n,o,c){if(!r){var l=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=_.from(t,r));return t}(t,n,o);n!==l&&(r=!0,o="buffer",n=l)}var f=t.objectMode?1:n.length;t.length+=f;var h=t.length<t.highWaterMark;h||(t.needDrain=!0);if(t.writing||t.corked){var d=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:c,next:null},d?d.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,f,n,o,c);return h}(this,c,f,e,t,r)),l},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||O(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(e,t,r){var o=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||function(e,t,r){t.ending=!0,R(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,o,r)},Object.defineProperty(E.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=v.destroy,E.prototype._undestroy=v.undestroy,E.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,r(60))},2002:function(e,t,r){(function(t){function r(e){try{if(!t.localStorage)return!1}catch(e){return!1}var r=t.localStorage[e];return null!=r&&"true"===String(r).toLowerCase()}e.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this,r(60))},2003:function(e,t,r){"use strict";e.exports=l;var n=r(1693),o=Object.create(r(1745));function c(e,data){var t=this._transformState;t.transforming=!1;var r=t.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));t.writechunk=null,t.writecb=null,null!=data&&this.push(data),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);n.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"==typeof this._flush?this._flush((function(t,data){h(e,t,data)})):h(this,null,null)}function h(e,t,data){if(t)return e.emit("error",t);if(null!=data&&e.push(data),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}o.inherits=r(1625),o.inherits(l,n),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,n.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")},l.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},l.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e),r.emit("close")}))}},2004:function(e,t,r){"use strict";var n=r(1647);e.exports=function(){return n(this).length=0,this}},2005:function(e,t,r){"use strict";var n=r(2353),o=Math.max;e.exports=function(e){return o(0,n(e))}},2006:function(e,t,r){"use strict";var n=Object.create,o=Object.getPrototypeOf,c={};e.exports=function(){var e=Object.setPrototypeOf,t=arguments[0]||n;return"function"==typeof e&&o(e(t(null),c))===c}},2007:function(e,t,r){"use strict";var n,o,c,l,f=r(2357),h=r(1647),d=Object.prototype.isPrototypeOf,_=Object.defineProperty,y={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(e,t){if(h(e),null===t||f(t))return e;throw new TypeError("Prototype must be null or an object")},e.exports=(o=function(){var e,t=Object.create(null),r={},desc=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__");if(desc){try{(e=desc.set).call(t,r)}catch(e){}if(Object.getPrototypeOf(t)===r)return{set:e,level:2}}return t.__proto__=r,Object.getPrototypeOf(t)===r?{level:2}:((t={}).__proto__=r,Object.getPrototypeOf(t)===r&&{level:1})}())?(2===o.level?o.set?(l=o.set,c=function(e,t){return l.call(n(e,t),t),e}):c=function(e,t){return n(e,t).__proto__=t,e}:c=function e(t,r){var o;return n(t,r),(o=d.call(e.nullPolyfill,t))&&delete e.nullPolyfill.__proto__,null===r&&(r=e.nullPolyfill),t.__proto__=r,o&&_(e.nullPolyfill,"__proto__",y),t},Object.defineProperty(c,"level",{configurable:!1,enumerable:!1,writable:!1,value:o.level})):null,r(2358)},2008:function(e,t,r){"use strict";var n=r(2359),o=/^\s*class[\s{/}]/,c=Function.prototype.toString;e.exports=function(e){return!!n(e)&&!o.test(c.call(e))}},2009:function(e,t,r){"use strict";var n=r(1694),o=Array.prototype.forEach,c=Object.create,l=function(e,t){var r;for(r in e)t[r]=e[r]};e.exports=function(e){var t=c(null);return o.call(arguments,(function(e){n(e)&&l(Object(e),t)})),t}},2010:function(e,t,r){"use strict";e.exports=r(2366)()?String.prototype.contains:r(2367)},2011:function(e,t,r){"use strict";var n=r(2373);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},2012:function(e,t,r){"use strict";var n=r(2377);e.exports=function(e){if(!n(e))throw new TypeError(e+" is not iterable");return e}},2013:function(e,t,r){"use strict";var n=r(1695),o=r(1882),c=r(2383),l=r(2384),f=function(e,t){return e.replace("%v",l(t))};e.exports=function(e,t,r){if(!o(r))throw new TypeError(f(t,e));if(!n(e)){if("default"in r)return r.default;if(r.isOptional)return null}var l=c(r.errorMessage);throw n(l)||(l=t),new TypeError(f(l,e))}},2014:function(e,t,r){"use strict";(function(t,n){var o;e.exports=j,j.ReadableState=P;r(1668).EventEmitter;var c=function(e,t){return e.listeners(t).length},l=r(2015),f=r(328).Buffer,h=t.Uint8Array||function(){};var d,_=r(1574);d=_&&_.debuglog?_.debuglog("stream"):function(){};var y,m,v,w=r(2404),S=r(2016),E=r(2017).getHighWaterMark,k=r(1696).codes,x=k.ERR_INVALID_ARG_TYPE,O=k.ERR_STREAM_PUSH_AFTER_EOF,C=k.ERR_METHOD_NOT_IMPLEMENTED,I=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(1625)(j,l);var R=S.errorOrDestroy,T=["error","close","destroy","pause","resume"];function P(e,t,n){o=o||r(1697),e=e||{},"boolean"!=typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=E(this,e,"readableHighWaterMark",n),this.buffer=new w,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(y||(y=r(1843).StringDecoder),this.decoder=new y(e.encoding),this.encoding=e.encoding)}function j(e){if(o=o||r(1697),!(this instanceof j))return new j(e);var t=this instanceof o;this._readableState=new P(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),l.call(this)}function M(e,t,r,n,o){d("readableAddChunk",t);var c,l=e._readableState;if(null===t)l.reading=!1,function(e,t){if(d("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?B(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,D(e)))}(e,l);else if(o||(c=function(e,t){var r;n=t,f.isBuffer(n)||n instanceof h||"string"==typeof t||void 0===t||e.objectMode||(r=new x("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(l,t)),c)R(e,c);else if(l.objectMode||t&&t.length>0)if("string"==typeof t||l.objectMode||Object.getPrototypeOf(t)===f.prototype||(t=function(e){return f.from(e)}(t)),n)l.endEmitted?R(e,new I):A(e,l,t,!0);else if(l.ended)R(e,new O);else{if(l.destroyed)return!1;l.reading=!1,l.decoder&&!r?(t=l.decoder.write(t),l.objectMode||0!==t.length?A(e,l,t,!1):U(e,l)):A(e,l,t,!1)}else n||(l.reading=!1,U(e,l));return!l.ended&&(l.length<l.highWaterMark||0===l.length)}function A(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&B(e)),U(e,t)}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),j.prototype.destroy=S.destroy,j.prototype._undestroy=S.undestroy,j.prototype._destroy=function(e,t){t(e)},j.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),M(this,e,t,!1,r)},j.prototype.unshift=function(e){return M(this,e,null,!0,!1)},j.prototype.isPaused=function(){return!1===this._readableState.flowing},j.prototype.setEncoding=function(e){y||(y=r(1843).StringDecoder);var t=new y(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=t.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var L=1073741824;function N(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=L?e=L:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function B(e){var t=e._readableState;d("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(d("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(D,e))}function D(e){var t=e._readableState;d("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,K(e)}function U(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(F,e,t))}function F(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(d("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function W(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function H(e){d("readable nexttick read 0"),e.read(0)}function V(e,t){d("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),K(e),t.flowing&&!t.reading&&e.read(0)}function K(e){var t=e._readableState;for(d("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function $(e){var t=e._readableState;d("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(Q,t,e))}function Q(e,t){if(d("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function Y(e,t){for(var i=0,r=e.length;i<r;i++)if(e[i]===t)return i;return-1}j.prototype.read=function(e){d("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return d("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?$(this):B(this),null;if(0===(e=N(e,t))&&t.ended)return 0===t.length&&$(this),null;var n,o=t.needReadable;return d("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&d("length less than watermark",o=!0),t.ended||t.reading?d("reading or ended",o=!1):o&&(d("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=N(r,t))),null===(n=e>0?z(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&$(this)),null!==n&&this.emit("data",n),n},j.prototype._read=function(e){R(this,new C("_read()"))},j.prototype.pipe=function(e,t){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e)}o.pipesCount+=1,d("pipe count=%d opts=%j",o.pipesCount,t);var l=(!t||!1!==t.end)&&e!==n.stdout&&e!==n.stderr?h:E;function f(t,n){d("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,d("cleanup"),e.removeListener("close",w),e.removeListener("finish",S),e.removeListener("drain",_),e.removeListener("error",v),e.removeListener("unpipe",f),r.removeListener("end",h),r.removeListener("end",E),r.removeListener("data",m),y=!0,!o.awaitDrain||e._writableState&&!e._writableState.needDrain||_())}function h(){d("onend"),e.end()}o.endEmitted?n.nextTick(l):r.once("end",l),e.on("unpipe",f);var _=function(e){return function(){var t=e._readableState;d("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&c(e,"data")&&(t.flowing=!0,K(e))}}(r);e.on("drain",_);var y=!1;function m(t){d("ondata");var n=e.write(t);d("dest.write",n),!1===n&&((1===o.pipesCount&&o.pipes===e||o.pipesCount>1&&-1!==Y(o.pipes,e))&&!y&&(d("false write response, pause",o.awaitDrain),o.awaitDrain++),r.pause())}function v(t){d("onerror",t),E(),e.removeListener("error",v),0===c(e,"error")&&R(e,t)}function w(){e.removeListener("finish",S),E()}function S(){d("onfinish"),e.removeListener("close",w),E()}function E(){d("unpipe"),r.unpipe(e)}return r.on("data",m),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",v),e.once("close",w),e.once("finish",S),e.emit("pipe",r),o.flowing||(d("pipe resume"),r.resume()),e},j.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var i=0;i<o;i++)n[i].emit("unpipe",this,{hasUnpiped:!1});return this}var c=Y(t.pipes,e);return-1===c||(t.pipes.splice(c,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},j.prototype.on=function(e,t){var r=l.prototype.on.call(this,e,t),o=this._readableState;return"data"===e?(o.readableListening=this.listenerCount("readable")>0,!1!==o.flowing&&this.resume()):"readable"===e&&(o.endEmitted||o.readableListening||(o.readableListening=o.needReadable=!0,o.flowing=!1,o.emittedReadable=!1,d("on readable",o.length,o.reading),o.length?B(this):o.reading||n.nextTick(H,this))),r},j.prototype.addListener=j.prototype.on,j.prototype.removeListener=function(e,t){var r=l.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick(W,this),r},j.prototype.removeAllListeners=function(e){var t=l.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||n.nextTick(W,this),t},j.prototype.resume=function(){var e=this._readableState;return e.flowing||(d("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,n.nextTick(V,e,t))}(this,e)),e.paused=!1,this},j.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},j.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(d("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(o){(d("wrapped data"),r.decoder&&(o=r.decoder.write(o)),r.objectMode&&null==o)||(r.objectMode||o&&o.length)&&(t.push(o)||(n=!0,e.pause()))})),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<T.length;o++)e.on(T[o],this.emit.bind(this,T[o]));return this._read=function(t){d("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(j.prototype[Symbol.asyncIterator]=function(){return void 0===m&&(m=r(2405)),m(this)}),Object.defineProperty(j.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(j.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(j.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),j._fromList=z,Object.defineProperty(j.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(j.from=function(e,t){return void 0===v&&(v=r(2406)),v(j,e,t)})}).call(this,r(60),r(205))},2015:function(e,t,r){e.exports=r(1668).EventEmitter},2016:function(e,t,r){"use strict";(function(t){function r(e,t){o(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function o(e,t){e.emit("error",t)}e.exports={destroy:function(e,c){var l=this,f=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return f||h?(c?c(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(o,this,e)):t.nextTick(o,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!c&&e?l._writableState?l._writableState.errorEmitted?t.nextTick(n,l):(l._writableState.errorEmitted=!0,t.nextTick(r,l,e)):t.nextTick(r,l,e):c?(t.nextTick(n,l),c(e)):t.nextTick(n,l)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this,r(205))},2017:function(e,t,r){"use strict";var n=r(1696).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,o){var c=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,o,r);if(null!=c){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new n(o?r:"highWaterMark",c);return Math.floor(c)}return e.objectMode?16:16384}}},2018:function(e,t,r){"use strict";(function(t,n){function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var o=n.callback;t.pendingcb--,o(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var c;e.exports=j,j.WritableState=P;var l={deprecate:r(2002)},f=r(2015),h=r(328).Buffer,d=t.Uint8Array||function(){};var _,y=r(2016),m=r(2017).getHighWaterMark,v=r(1696).codes,w=v.ERR_INVALID_ARG_TYPE,S=v.ERR_METHOD_NOT_IMPLEMENTED,E=v.ERR_MULTIPLE_CALLBACK,k=v.ERR_STREAM_CANNOT_PIPE,x=v.ERR_STREAM_DESTROYED,O=v.ERR_STREAM_NULL_VALUES,C=v.ERR_STREAM_WRITE_AFTER_END,I=v.ERR_UNKNOWN_ENCODING,R=y.errorOrDestroy;function T(){}function P(e,t,l){c=c||r(1697),e=e||{},"boolean"!=typeof l&&(l=t instanceof c),this.objectMode=!!e.objectMode,l&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=m(this,e,"writableHighWaterMark",l),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var f=!1===e.decodeStrings;this.decodeStrings=!f,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,o=r.sync,c=r.writecb;if("function"!=typeof c)throw new E;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,o,c){--t.pendingcb,r?(n.nextTick(c,o),n.nextTick(D,e,t),e._writableState.errorEmitted=!0,R(e,o)):(c(o),e._writableState.errorEmitted=!0,R(e,o),D(e,t))}(e,r,o,t,c);else{var l=N(r)||e.destroyed;l||r.corked||r.bufferProcessing||!r.bufferedRequest||L(e,r),o?n.nextTick(A,e,r,l,c):A(e,r,l,c)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function j(e){var t=this instanceof(c=c||r(1697));if(!t&&!_.call(j,this))return new j(e);this._writableState=new P(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),f.call(this)}function M(e,t,r,n,o,c,l){t.writelen=n,t.writecb=l,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new x("write")):r?e._writev(o,t.onwrite):e._write(o,c,t.onwrite),t.sync=!1}function A(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),D(e,t)}function L(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,c=new Array(n),l=t.corkedRequestsFree;l.entry=r;for(var f=0,h=!0;r;)c[f]=r,r.isBuf||(h=!1),r=r.next,f+=1;c.allBuffers=h,M(e,t,!0,t.length,c,"",l.finish),t.pendingcb++,t.lastBufferedRequest=null,l.next?(t.corkedRequestsFree=l.next,l.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var d=r.chunk,_=r.encoding,y=r.callback;if(M(e,t,!1,t.objectMode?1:d.length,d,_,y),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function N(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function B(e,t){e._final((function(r){t.pendingcb--,r&&R(e,r),t.prefinished=!0,e.emit("prefinish"),D(e,t)}))}function D(e,t){var r=N(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(B,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var o=e._readableState;(!o||o.autoDestroy&&o.endEmitted)&&e.destroy()}return r}r(1625)(j,f),P.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(P.prototype,"buffer",{get:l.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(object){return!!_.call(this,object)||this===j&&(object&&object._writableState instanceof P)}})):_=function(object){return object instanceof this},j.prototype.pipe=function(){R(this,new k)},j.prototype.write=function(e,t,r){var o,c=this._writableState,l=!1,f=!c.objectMode&&(o=e,h.isBuffer(o)||o instanceof d);return f&&!h.isBuffer(e)&&(e=function(e){return h.from(e)}(e)),"function"==typeof t&&(r=t,t=null),f?t="buffer":t||(t=c.defaultEncoding),"function"!=typeof r&&(r=T),c.ending?function(e,t){var r=new C;R(e,r),n.nextTick(t,r)}(this,r):(f||function(e,t,r,o){var c;return null===r?c=new O:"string"==typeof r||t.objectMode||(c=new w("chunk",["string","Buffer"],r)),!c||(R(e,c),n.nextTick(o,c),!1)}(this,c,e,r))&&(c.pendingcb++,l=function(e,t,r,n,o,c){if(!r){var l=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,r));return t}(t,n,o);n!==l&&(r=!0,o="buffer",n=l)}var f=t.objectMode?1:n.length;t.length+=f;var d=t.length<t.highWaterMark;d||(t.needDrain=!0);if(t.writing||t.corked){var _=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:c,next:null},_?_.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else M(e,t,!1,f,n,o,c);return d}(this,c,f,e,t,r)),l},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||L(this,e))},j.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new I(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(e,t,r){r(new S("_write()"))},j.prototype._writev=null,j.prototype.end=function(e,t,r){var o=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||function(e,t,r){t.ending=!0,D(e,t),r&&(t.finished?n.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,o,r),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),j.prototype.destroy=y.destroy,j.prototype._undestroy=y.undestroy,j.prototype._destroy=function(e,t){t(e)}}).call(this,r(60),r(205))},2019:function(e,t,r){"use strict";e.exports=_;var n=r(1696).codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,c=n.ERR_MULTIPLE_CALLBACK,l=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,f=n.ERR_TRANSFORM_WITH_LENGTH_0,h=r(1697);function d(e,data){var t=this._transformState;t.transforming=!1;var r=t.writecb;if(null===r)return this.emit("error",new c);t.writechunk=null,t.writecb=null,null!=data&&this.push(data),r(e);var n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}function _(e){if(!(this instanceof _))return new _(e);h.call(this,e),this._transformState={afterTransform:d.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",y)}function y(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?m(this,null,null):this._flush((function(t,data){m(e,t,data)}))}function m(e,t,data){if(t)return e.emit("error",t);if(null!=data&&e.push(data),e._writableState.length)throw new f;if(e._transformState.transforming)throw new l;return e.push(null)}r(1625)(_,h),_.prototype.push=function(e,t){return this._transformState.needTransform=!1,h.prototype.push.call(this,e,t)},_.prototype._transform=function(e,t,r){r(new o("_transform()"))},_.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var o=this._readableState;(n.needTransform||o.needReadable||o.length<o.highWaterMark)&&this._read(o.highWaterMark)}},_.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},_.prototype._destroy=function(e,t){h.prototype._destroy.call(this,e,(function(e){t(e)}))}},2020:function(e,t,r){(function(t){const r=e.exports;r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.codes={};for(const e in r.types){const t=r.types[e];r.codes[t]=e}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=t.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=t.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=t.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(const e in r.properties){const t=r.properties[e];r.propertiesCodes[t]=e}function n(e){return[0,1,2].map((n=>[0,1].map((o=>[0,1].map((c=>{const l=t.alloc(1);return l.writeUInt8(r.codes[e]<<r.CMD_SHIFT|(o?r.DUP_MASK:0)|n<<r.QOS_SHIFT|c,0,!0),l}))))))}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"},r.PUBLISH_HEADER=n("publish"),r.SUBSCRIBE_HEADER=n("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=n("unsubscribe"),r.ACKS={unsuback:n("unsuback"),puback:n("puback"),pubcomp:n("pubcomp"),pubrel:n("pubrel"),pubrec:n("pubrec")},r.SUBACK_HEADER=t.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=t.from([3]),r.VERSION4=t.from([4]),r.VERSION5=t.from([5]),r.VERSION131=t.from([131]),r.VERSION132=t.from([132]),r.QOS=[0,1,2].map((e=>t.from([e]))),r.EMPTY={pingreq:t.from([r.codes.pingreq<<4,0]),pingresp:t.from([r.codes.pingresp<<4,0]),disconnect:t.from([r.codes.disconnect<<4,0])}}).call(this,r(328).Buffer)},2021:function(e,t,r){(function(n){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))})),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2411)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(205))},2022:function(e,t,r){(function(t){const n=r(2020),o=t.allocUnsafe(0),c=t.from([0]),l=r(2414),f=r(1743).nextTick,h=r(2021)("mqtt-packet:writeToStream"),d=l.cache,_=l.generateNumber,y=l.generateCache,m=l.genBufVariableByteInt,v=l.generate4ByteBuffer;let w=R,S=!0;function E(e,r,l){switch(h("generate called"),r.cork&&(r.cork(),f(k,r)),S&&(S=!1,y()),h("generate: packet.cmd: %s",e.cmd),e.cmd){case"connect":return function(e,r,o){const c=e||{},l=c.protocolId||"MQTT";let f=c.protocolVersion||4;const h=c.will;let d=c.clean;const _=c.keepalive||0,y=c.clientId||"",m=c.username,v=c.password,S=c.properties;void 0===d&&(d=!0);let E=0;if(!l||"string"!=typeof l&&!t.isBuffer(l))return r.emit("error",new Error("Invalid protocolId")),!1;E+=l.length+2;if(3!==f&&4!==f&&5!==f)return r.emit("error",new Error("Invalid protocol version")),!1;E+=1;if(("string"==typeof y||t.isBuffer(y))&&(y||f>=4)&&(y||d))E+=t.byteLength(y)+2;else{if(f<4)return r.emit("error",new Error("clientId must be supplied before 3.1.1")),!1;if(1*d==0)return r.emit("error",new Error("clientId must be given if cleanSession set to 0")),!1}if("number"!=typeof _||_<0||_>65535||_%1!=0)return r.emit("error",new Error("Invalid keepalive")),!1;E+=2;if(E+=1,5===f){var k=j(r,S);if(!k)return!1;E+=k.length}if(h){if("object"!=typeof h)return r.emit("error",new Error("Invalid will")),!1;if(!h.topic||"string"!=typeof h.topic)return r.emit("error",new Error("Invalid will topic")),!1;if(E+=t.byteLength(h.topic)+2,E+=2,h.payload){if(!(h.payload.length>=0))return r.emit("error",new Error("Invalid will payload")),!1;"string"==typeof h.payload?E+=t.byteLength(h.payload):E+=h.payload.length}var x={};if(5===f){if(!(x=j(r,h.properties)))return!1;E+=x.length}}let I=!1;if(null!=m){if(!B(m))return r.emit("error",new Error("Invalid username")),!1;I=!0,E+=t.byteLength(m)+2}if(null!=v){if(!I)return r.emit("error",new Error("Username is required to use password")),!1;if(!B(v))return r.emit("error",new Error("Invalid password")),!1;E+=N(v)+2}r.write(n.CONNECT_HEADER),O(r,E),P(r,l),c.bridgeMode&&(f+=128);r.write(131===f?n.VERSION131:132===f?n.VERSION132:4===f?n.VERSION4:5===f?n.VERSION5:n.VERSION3);let R=0;R|=null!=m?n.USERNAME_MASK:0,R|=null!=v?n.PASSWORD_MASK:0,R|=h&&h.retain?n.WILL_RETAIN_MASK:0,R|=h&&h.qos?h.qos<<n.WILL_QOS_SHIFT:0,R|=h?n.WILL_FLAG_MASK:0,R|=d?n.CLEAN_SESSION_MASK:0,r.write(t.from([R])),w(r,_),5===f&&k.write();P(r,y),h&&(5===f&&x.write(),C(r,h.topic),P(r,h.payload));null!=m&&P(r,m);null!=v&&P(r,v);return!0}(e,r);case"connack":return function(e,r,o){const l=o?o.protocolVersion:4,f=e||{},h=5===l?f.reasonCode:f.returnCode,d=f.properties;let _=2;if("number"!=typeof h)return r.emit("error",new Error("Invalid return code")),!1;let y=null;if(5===l){if(y=j(r,d),!y)return!1;_+=y.length}r.write(n.CONNACK_HEADER),O(r,_),r.write(f.sessionPresent?n.SESSIONPRESENT_HEADER:c),r.write(t.from([h])),null!=y&&y.write();return!0}(e,r,l);case"publish":return function(e,r,c){h("publish: packet: %o",e);const l=c?c.protocolVersion:4,f=e||{},d=f.qos||0,_=f.retain?n.RETAIN_MASK:0,y=f.topic,m=f.payload||o,v=f.messageId,S=f.properties;let E=0;if("string"==typeof y)E+=t.byteLength(y)+2;else{if(!t.isBuffer(y))return r.emit("error",new Error("Invalid topic")),!1;E+=y.length+2}t.isBuffer(m)?E+=m.length:E+=t.byteLength(m);if(d&&"number"!=typeof v)return r.emit("error",new Error("Invalid messageId")),!1;d&&(E+=2);let k=null;if(5===l){if(k=j(r,S),!k)return!1;E+=k.length}r.write(n.PUBLISH_HEADER[d][f.dup?1:0][_?1:0]),O(r,E),w(r,N(y)),r.write(y),d>0&&w(r,v);null!=k&&k.write();return h("publish: payload: %o",m),r.write(m)}(e,r,l);case"puback":case"pubrec":case"pubrel":case"pubcomp":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.cmd||"puback",h=l.messageId,d=l.dup&&"pubrel"===f?n.DUP_MASK:0;let _=0;const y=l.reasonCode,m=l.properties;let v=5===c?3:2;"pubrel"===f&&(_=1);if("number"!=typeof h)return r.emit("error",new Error("Invalid messageId")),!1;let S=null;if(5===c&&"object"==typeof m){if(S=M(r,m,o,v),!S)return!1;v+=S.length}r.write(n.ACKS[f][_][d][0]),O(r,v),w(r,h),5===c&&r.write(t.from([y]));null!==S&&S.write();return!0}(e,r,l);case"subscribe":return function(e,r,o){h("subscribe: packet: ");const c=o?o.protocolVersion:4,l=e||{},f=l.dup?n.DUP_MASK:0,d=l.messageId,_=l.subscriptions,y=l.properties;let m=0;if("number"!=typeof d)return r.emit("error",new Error("Invalid messageId")),!1;m+=2;let v=null;if(5===c){if(v=j(r,y),!v)return!1;m+=v.length}if("object"!=typeof _||!_.length)return r.emit("error",new Error("Invalid subscriptions")),!1;for(let i=0;i<_.length;i+=1){const e=_[i].topic,n=_[i].qos;if("string"!=typeof e)return r.emit("error",new Error("Invalid subscriptions - invalid topic")),!1;if("number"!=typeof n)return r.emit("error",new Error("Invalid subscriptions - invalid qos")),!1;if(5===c){if("boolean"!=typeof(_[i].nl||!1))return r.emit("error",new Error("Invalid subscriptions - invalid No Local")),!1;if("boolean"!=typeof(_[i].rap||!1))return r.emit("error",new Error("Invalid subscriptions - invalid Retain as Published")),!1;const e=_[i].rh||0;if("number"!=typeof e||e>2)return r.emit("error",new Error("Invalid subscriptions - invalid Retain Handling")),!1}m+=t.byteLength(e)+2+1}h("subscribe: writing to stream: %o",n.SUBSCRIBE_HEADER),r.write(n.SUBSCRIBE_HEADER[1][f?1:0][0]),O(r,m),w(r,d),null!==v&&v.write();let S=!0;for(const sub of _){const e=sub.topic,o=sub.qos,l=+sub.nl,f=+sub.rap,h=sub.rh;let d;C(r,e),d=n.SUBSCRIBE_OPTIONS_QOS[o],5===c&&(d|=l?n.SUBSCRIBE_OPTIONS_NL:0,d|=f?n.SUBSCRIBE_OPTIONS_RAP:0,d|=h?n.SUBSCRIBE_OPTIONS_RH[h]:0),S=r.write(t.from([d]))}return S}(e,r,l);case"suback":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.messageId,h=l.granted,d=l.properties;let _=0;if("number"!=typeof f)return r.emit("error",new Error("Invalid messageId")),!1;_+=2;if("object"!=typeof h||!h.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let i=0;i<h.length;i+=1){if("number"!=typeof h[i])return r.emit("error",new Error("Invalid qos vector")),!1;_+=1}let y=null;if(5===c){if(y=M(r,d,o,_),!y)return!1;_+=y.length}r.write(n.SUBACK_HEADER),O(r,_),w(r,f),null!==y&&y.write();return r.write(t.from(h))}(e,r,l);case"unsubscribe":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.messageId,h=l.dup?n.DUP_MASK:0,d=l.unsubscriptions,_=l.properties;let y=0;if("number"!=typeof f)return r.emit("error",new Error("Invalid messageId")),!1;y+=2;if("object"!=typeof d||!d.length)return r.emit("error",new Error("Invalid unsubscriptions")),!1;for(let i=0;i<d.length;i+=1){if("string"!=typeof d[i])return r.emit("error",new Error("Invalid unsubscriptions")),!1;y+=t.byteLength(d[i])+2}let m=null;if(5===c){if(m=j(r,_),!m)return!1;y+=m.length}r.write(n.UNSUBSCRIBE_HEADER[1][h?1:0][0]),O(r,y),w(r,f),null!==m&&m.write();let v=!0;for(let e=0;e<d.length;e++)v=C(r,d[e]);return v}(e,r,l);case"unsuback":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.messageId,h=l.dup?n.DUP_MASK:0,d=l.granted,_=l.properties,y=l.cmd,m=0;let v=2;if("number"!=typeof f)return r.emit("error",new Error("Invalid messageId")),!1;if(5===c){if("object"!=typeof d||!d.length)return r.emit("error",new Error("Invalid qos vector")),!1;for(let i=0;i<d.length;i+=1){if("number"!=typeof d[i])return r.emit("error",new Error("Invalid qos vector")),!1;v+=1}}let S=null;if(5===c){if(S=M(r,_,o,v),!S)return!1;v+=S.length}r.write(n.ACKS[y][m][h][0]),O(r,v),w(r,f),null!==S&&S.write();5===c&&r.write(t.from(d));return!0}(e,r,l);case"pingreq":case"pingresp":return function(e,t,r){return t.write(n.EMPTY[e.cmd])}(e,r);case"disconnect":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.reasonCode,h=l.properties;let d=5===c?1:0,_=null;if(5===c){if(_=M(r,h,o,d),!_)return!1;d+=_.length}r.write(t.from([n.codes.disconnect<<4])),O(r,d),5===c&&r.write(t.from([f]));null!==_&&_.write();return!0}(e,r,l);case"auth":return function(e,r,o){const c=o?o.protocolVersion:4,l=e||{},f=l.reasonCode,h=l.properties;let d=5===c?1:0;5!==c&&r.emit("error",new Error("Invalid mqtt version for auth packet"));const _=M(r,h,o,d);if(!_)return!1;d+=_.length,r.write(t.from([n.codes.auth<<4])),O(r,d),r.write(t.from([f])),null!==_&&_.write();return!0}(e,r,l);default:return r.emit("error",new Error("Unknown command")),!1}}function k(e){e.uncork()}Object.defineProperty(E,"cacheNumbers",{get:()=>w===R,set(e){e?(d&&0!==Object.keys(d).length||(S=!0),w=R):(S=!1,w=T)}});const x={};function O(e,t){if(t>n.VARBYTEINT_MAX)return e.emit("error",new Error(`Invalid variable byte integer: ${t}`)),!1;let r=x[t];return r||(r=m(t),t<16384&&(x[t]=r)),h("writeVarByteInt: writing to stream: %o",r),e.write(r)}function C(e,r){const n=t.byteLength(r);return w(e,n),h("writeString: %s",r),e.write(r,"utf8")}function I(e,t,r){C(e,t),C(e,r)}function R(e,t){return h("writeNumberCached: number: %d",t),h("writeNumberCached: %o",d[t]),e.write(d[t])}function T(e,t){const r=_(t);return h("writeNumberGenerated: %o",r),e.write(r)}function P(e,t){"string"==typeof t?C(e,t):t?(w(e,t.length),e.write(t)):w(e,0)}function j(e,r){if("object"!=typeof r||null!=r.length)return{length:1,write(){L(e,{},0)}};let o=0;function c(r,o){let c=0;switch(n.propertiesTypes[r]){case"byte":if("boolean"!=typeof o)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=2;break;case"int8":if("number"!=typeof o||o<0||o>255)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=2;break;case"binary":if(o&&null===o)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=1+t.byteLength(o)+2;break;case"int16":if("number"!=typeof o||o<0||o>65535)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=3;break;case"int32":if("number"!=typeof o||o<0||o>4294967295)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=5;break;case"var":if("number"!=typeof o||o<0||o>268435455)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=1+t.byteLength(m(o));break;case"string":if("string"!=typeof o)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=3+t.byteLength(o.toString());break;case"pair":if("object"!=typeof o)return e.emit("error",new Error(`Invalid ${r}: ${o}`)),!1;c+=Object.getOwnPropertyNames(o).reduce(((e,r)=>{const n=o[r];return Array.isArray(n)?e+=n.reduce(((e,n)=>e+=3+t.byteLength(r.toString())+2+t.byteLength(n.toString())),0):e+=3+t.byteLength(r.toString())+2+t.byteLength(o[r].toString()),e}),0);break;default:return e.emit("error",new Error(`Invalid property ${r}: ${o}`)),!1}return c}if(r)for(const e in r){let t=0,n=0;const l=r[e];if(Array.isArray(l))for(let r=0;r<l.length;r++){if(n=c(e,l[r]),!n)return!1;t+=n}else{if(n=c(e,l),!n)return!1;t=n}if(!t)return!1;o+=t}return{length:t.byteLength(m(o))+o,write(){L(e,r,o)}}}function M(e,t,r,n){const o=["reasonString","userProperties"],c=r&&r.properties&&r.properties.maximumPacketSize?r.properties.maximumPacketSize:0;let l=j(e,t);if(c)for(;n+l.length>c;){const r=o.shift();if(!r||!t[r])return!1;delete t[r],l=j(e,t)}return l}function A(e,r,o){switch(n.propertiesTypes[r]){case"byte":e.write(t.from([n.properties[r]])),e.write(t.from([+o]));break;case"int8":e.write(t.from([n.properties[r]])),e.write(t.from([o]));break;case"binary":e.write(t.from([n.properties[r]])),P(e,o);break;case"int16":e.write(t.from([n.properties[r]])),w(e,o);break;case"int32":e.write(t.from([n.properties[r]])),function(e,t){const r=v(t);h("write4ByteNumber: %o",r),e.write(r)}(e,o);break;case"var":e.write(t.from([n.properties[r]])),O(e,o);break;case"string":e.write(t.from([n.properties[r]])),C(e,o);break;case"pair":Object.getOwnPropertyNames(o).forEach((c=>{const l=o[c];Array.isArray(l)?l.forEach((o=>{e.write(t.from([n.properties[r]])),I(e,c.toString(),o.toString())})):(e.write(t.from([n.properties[r]])),I(e,c.toString(),l.toString()))}));break;default:return e.emit("error",new Error(`Invalid property ${r} value: ${o}`)),!1}}function L(e,t,r){O(e,r);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&null!==t[r]){const n=t[r];if(Array.isArray(n))for(let t=0;t<n.length;t++)A(e,r,n[t]);else A(e,r,n)}}function N(e){return e?e instanceof t?e.length:t.byteLength(e):0}function B(e){return"string"==typeof e||e instanceof t}e.exports=E}).call(this,r(328).Buffer)},2023:function(e,t,r){"use strict";var n=r(2417),o=r(2418);function c(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=O,t.resolve=function(source,e){return O(source,!1,!0).resolve(e)},t.resolveObject=function(source,e){return source?O(source,!1,!0).resolveObject(e):e},t.format=function(e){o.isString(e)&&(e=O(e));return e instanceof c?e.format():c.prototype.format.call(e)},t.Url=c;var l=/^([a-z0-9.+-]+:)/i,f=/:[0-9]*$/,h=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),_=["'"].concat(d),y=["%","/","?",";","#"].concat(_),m=["/","?","#"],v=/^[+a-z0-9A-Z_-]{0,63}$/,w=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,S={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},k={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x=r(2419);function O(e,t,r){if(e&&o.isObject(e)&&e instanceof c)return e;var u=new c;return u.parse(e,t,r),u}c.prototype.parse=function(e,t,r){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var c=e.indexOf("?"),f=-1!==c&&c<e.indexOf("#")?"?":"#",d=e.split(f);d[0]=d[0].replace(/\\/g,"/");var O=e=d.join(f);if(O=O.trim(),!r&&1===e.split("#").length){var C=h.exec(O);if(C)return this.path=O,this.href=O,this.pathname=C[1],C[2]?(this.search=C[2],this.query=t?x.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var I=l.exec(O);if(I){var R=(I=I[0]).toLowerCase();this.protocol=R,O=O.substr(I.length)}if(r||I||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===O.substr(0,2);!T||I&&E[I]||(O=O.substr(2),this.slashes=!0)}if(!E[I]&&(T||I&&!k[I])){for(var P,j,M=-1,i=0;i<m.length;i++){-1!==(A=O.indexOf(m[i]))&&(-1===M||A<M)&&(M=A)}-1!==(j=-1===M?O.lastIndexOf("@"):O.lastIndexOf("@",M))&&(P=O.slice(0,j),O=O.slice(j+1),this.auth=decodeURIComponent(P)),M=-1;for(i=0;i<y.length;i++){var A;-1!==(A=O.indexOf(y[i]))&&(-1===M||A<M)&&(M=A)}-1===M&&(M=O.length),this.host=O.slice(0,M),O=O.slice(M),this.parseHost(),this.hostname=this.hostname||"";var L="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!L)for(var N=this.hostname.split(/\./),B=(i=0,N.length);i<B;i++){var D=N[i];if(D&&!D.match(v)){for(var U="",F=0,W=D.length;F<W;F++)D.charCodeAt(F)>127?U+="x":U+=D[F];if(!U.match(v)){var H=N.slice(0,i),V=N.slice(i+1),K=D.match(w);K&&(H.push(K[1]),V.unshift(K[2])),V.length&&(O="/"+V.join(".")+O),this.hostname=H.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),L||(this.hostname=n.toASCII(this.hostname));var p=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+p,this.href+=this.host,L&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!S[R])for(i=0,B=_.length;i<B;i++){var $=_[i];if(-1!==O.indexOf($)){var Q=encodeURIComponent($);Q===$&&(Q=escape($)),O=O.split($).join(Q)}}var Y=O.indexOf("#");-1!==Y&&(this.hash=O.substr(Y),O=O.slice(0,Y));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),t&&(this.query=x.parse(this.query)),O=O.slice(0,G)):t&&(this.search="",this.query={}),O&&(this.pathname=O),k[R]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){p=this.pathname||"";var s=this.search||"";this.path=p+s}return this.href=this.format(),this},c.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",c=!1,l="";this.host?c=e+this.host:this.hostname&&(c=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(c+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(l=x.stringify(this.query));var f=this.search||l&&"?"+l||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||k[t])&&!1!==c?(c="//"+(c||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):c||(c=""),n&&"#"!==n.charAt(0)&&(n="#"+n),f&&"?"!==f.charAt(0)&&(f="?"+f),t+c+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(f=f.replace("#","%23"))+n},c.prototype.resolve=function(e){return this.resolveObject(O(e,!1,!0)).format()},c.prototype.resolveObject=function(e){if(o.isString(e)){var t=new c;t.parse(e,!1,!0),e=t}for(var r=new c,n=Object.keys(this),l=0;l<n.length;l++){var f=n[l];r[f]=this[f]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var h=Object.keys(e),d=0;d<h.length;d++){var _=h[d];"protocol"!==_&&(r[_]=e[_])}return k[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!k[e.protocol]){for(var y=Object.keys(e),m=0;m<y.length;m++){var v=y[m];r[v]=e[v]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||E[e.protocol])r.pathname=e.pathname;else{for(var w=(e.pathname||"").split("/");w.length&&!(e.host=w.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==w[0]&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",s=r.search||"";r.path=p+s}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var S=r.pathname&&"/"===r.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),O=x||S||r.host&&e.pathname,C=O,I=r.pathname&&r.pathname.split("/")||[],R=(w=e.pathname&&e.pathname.split("/")||[],r.protocol&&!k[r.protocol]);if(R&&(r.hostname="",r.port=null,r.host&&(""===I[0]?I[0]=r.host:I.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===w[0]?w[0]=e.host:w.unshift(e.host)),e.host=null),O=O&&(""===w[0]||""===I[0])),x)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,I=w;else if(w.length)I||(I=[]),I.pop(),I=I.concat(w),r.search=e.search,r.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(R)r.hostname=r.host=I.shift(),(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift());return r.search=e.search,r.query=e.query,o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!I.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=I.slice(-1)[0],P=(r.host||e.host||I.length>1)&&("."===T||".."===T)||""===T,j=0,i=I.length;i>=0;i--)"."===(T=I[i])?I.splice(i,1):".."===T?(I.splice(i,1),j++):j&&(I.splice(i,1),j--);if(!O&&!C)for(;j--;j)I.unshift("..");!O||""===I[0]||I[0]&&"/"===I[0].charAt(0)||I.unshift(""),P&&"/"!==I.join("/").substr(-1)&&I.push("");var M,A=""===I[0]||I[0]&&"/"===I[0].charAt(0);R&&(r.hostname=r.host=A?"":I.length?I.shift():"",(M=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=M.shift(),r.host=r.hostname=M.shift()));return(O=O||r.host&&I.length)&&!A&&I.unshift(""),I.length?r.pathname=I.join("/"):(r.pathname=null,r.path=null),o.isNull(r.pathname)&&o.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},c.prototype.parseHost=function(){var e=this.host,t=f.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2024:function(e,t,r){"use strict";var n=r(1576);e.exports=function(e,t){var r,o;return t.port=t.port||1883,t.hostname=t.hostname||t.host||"localhost",r=t.port,o=t.hostname,n.createConnection(r,o)}},2025:function(e,t,r){"use strict";(function(t,n){var o,c,l,f=r(1692).Transform,h=r(1888);e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var d="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var _=function(e,t){var r="wxs"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);o=wx.connectSocket({url:_,protocols:d}),c=function(){var e=new f;return e._write=function(e,t,r){o.send({data:e.buffer,success:function(){r()},fail:function(e){r(new Error(e))}})},e._flush=function(e){o.close({success:function(){e()}})},e}(),(l=h.obj())._destroy=function(e,t){o.close({success:function(){t&&t(e)}})};var y=l.destroy;return l.destroy=function(){l.destroy=y;var e=this;n.nextTick((function(){o.close({fail:function(){e._destroy(new Error)}})}))}.bind(l),o.onOpen((function(){l.setReadable(c),l.setWritable(c),l.emit("connect")})),o.onMessage((function(e){var data=e.data;data=data instanceof ArrayBuffer?t.from(data):t.from(data,"utf8"),c.push(data)})),o.onClose((function(){l.end(),l.destroy()})),o.onError((function(e){l.destroy(new Error(e.errMsg))})),l}}).call(this,r(328).Buffer,r(205))},2026:function(e,t,r){"use strict";(function(t){var n,o,c,l=r(1692).Transform,f=r(1888),h=r(365),d=!1;e.exports=function(e,r){if(r.hostname=r.hostname||r.host,!r.hostname)throw new Error("Could not determine host. Specify host manually.");var _="MQIsdp"===r.protocolId&&3===r.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={})}(r);var y=function(e,t){var r="alis"===e.protocol?"wss":"ws",n=r+"://"+e.hostname+e.path;return e.port&&80!==e.port&&443!==e.port&&(n=r+"://"+e.hostname+":"+e.port+e.path),"function"==typeof e.transformWsUrl&&(n=e.transformWsUrl(n,e,t)),n}(r,e);return(n=r.my).connectSocket({url:y,protocols:_}),o=function(){var e=new l;return e._write=function(e,t,r){n.sendSocketMessage({data:e.buffer,success:function(){r()},fail:function(){r(new Error)}})},e._flush=function(e){n.closeSocket({success:function(){e()}})},e}(),c=f.obj(),d||(d=!0,n.onSocketOpen((function(){c.setReadable(o),c.setWritable(o),c.emit("connect")})),n.onSocketMessage((function(e){if("string"==typeof e.data){var r=h.toByteArray(e.data),n=t.from(r);o.push(n)}else{var c=new FileReader;c.addEventListener("load",(function(){var data=c.result;data=data instanceof ArrayBuffer?t.from(data):t.from(data,"utf8"),o.push(data)})),c.readAsArrayBuffer(e.data)}})),n.onSocketClose((function(){c.end(),c.destroy()})),n.onSocketError((function(e){c.destroy(e)}))),c}}).call(this,r(328).Buffer)},2027:function(e,t,r){"use strict";(function(t){var n=r(2426),o=r(2023),c=["rejectUnauthorized","ca","cert","key","pfx","passphrase"],l="browser"===t.title;function f(e,t){var r="MQIsdp"===t.protocolId&&3===t.protocolVersion?"mqttv3.1":"mqtt";!function(e){e.hostname||(e.hostname="localhost"),e.port||("wss"===e.protocol?e.port=443:e.port=80),e.path||(e.path="/"),e.wsOptions||(e.wsOptions={}),l||"wss"!==e.protocol||c.forEach((function(t){e.hasOwnProperty(t)&&!e.wsOptions.hasOwnProperty(t)&&(e.wsOptions[t]=e[t])}))}(t);var o=function(e,t){var r=e.protocol+"://"+e.hostname+":"+e.port+e.path;return"function"==typeof e.transformWsUrl&&(r=e.transformWsUrl(r,e,t)),r}(t,e);return n(o,[r],t.wsOptions)}e.exports=l?function(e,t){if(t.hostname||(t.hostname=t.host),!t.hostname){if("undefined"==typeof document)throw new Error("Could not determine host. Specify host manually.");var r=o.parse(document.URL);t.hostname=r.hostname,t.port||(t.port=r.port)}return f(e,t)}:function(e,t){return f(e,t)}}).call(this,r(205))},2342:function(e,t,r){"use strict";(function(t,n){var o=r(1668),c=r(1997),l=r(2400),f=r(1692).Writable,h=r(1625),d=r(2415),_=r(2416),y=r(1881),m=t.setImmediate||function(e){n.nextTick(e)},v={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:3e4,clean:!0,resubscribe:!0},w={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};function S(e,t,r){e.emit("packetsend",t),!l.writeToStream(t,e.stream,e.options)&&r?e.stream.once("drain",r):r&&r()}function E(e){e&&Object.keys(e).forEach((function(t){"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])}))}function k(e,t,r,n){e.outgoingStore.put(t,(function(o){if(o)return r&&r(o);n(),S(e,t,r)}))}function x(){}function O(e,t){var r,n=this;if(!(this instanceof O))return new O(e,t);for(r in this.options=t||{},v)void 0===this.options[r]?this.options[r]=v[r]:this.options[r]=t[r];this.options.clientId="string"==typeof t.clientId?t.clientId:"mqttjs_"+Math.random().toString(16).substr(2,8),this.options.customHandleAcks=5===t.protocolVersion&&t.customHandleAcks?t.customHandleAcks:function(){arguments[3](0)},this.streamBuilder=e,this.outgoingStore=t.outgoingStore||new c,this.incomingStore=t.incomingStore||new c,this.queueQoSZero=void 0===t.queueQoSZero||t.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this.nextId=Math.max(1,Math.floor(65535*Math.random())),this.outgoing={},this._firstConnection=!0,this.on("close",(function(){this.connected=!1,clearTimeout(this.connackTimer)})),this.on("connect",(function(){var e=this.queue;!function t(){var r,o=e.shift();o&&(r=o.packet,n._sendPacket(r,(function(e){o.cb&&o.cb(e),t()})))}()})),this.on("close",(function(){null!==n.pingTimer&&(n.pingTimer.clear(),n.pingTimer=null)})),this.on("close",this._setupReconnect),o.EventEmitter.call(this),this._setupStream()}h(O,o.EventEmitter),O.prototype._setupStream=function(){var e,t=this,r=new f,o=l.parser(this.options),c=null,h=[];function d(){if(h.length)n.nextTick(_);else{var e=c;c=null,e()}}function _(){var e=h.shift();if(e)t._handlePacket(e,d);else{var r=c;c=null,r&&r()}}if(this._clearReconnect(),this.stream=this.streamBuilder(this),o.on("packet",(function(e){h.push(e)})),r._write=function(e,t,r){c=r,o.parse(e),_()},this.stream.pipe(r),this.stream.on("error",x),this.stream.on("close",(function(){var e;(e=t.outgoing)&&Object.keys(e).forEach((function(t){e[t].volatile&&"function"==typeof e[t].cb&&(e[t].cb(new Error("Connection closed")),delete e[t])})),t.emit("close")})),(e=Object.create(this.options)).cmd="connect",S(this,e),o.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.emit("error",new Error("Packet has no Authentication Method")),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&"object"==typeof this.options.authPacket)S(this,y({cmd:"auth",reasonCode:0},this.options.authPacket))}this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout((function(){t._cleanUp(!0)}),this.options.connectTimeout)},O.prototype._handlePacket=function(e,t){var r=this.options;if(5===r.protocolVersion&&r.properties&&r.properties.maximumPacketSize&&r.properties.maximumPacketSize<e.length)return this.emit("error",new Error("exceeding packets size "+e.cmd)),this.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),this;switch(this.emit("packetreceive",e),e.cmd){case"publish":this._handlePublish(e,t);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":this._handleAck(e),t();break;case"pubrel":this._handlePubrel(e,t);break;case"connack":this._handleConnack(e),t();break;case"pingresp":this._handlePingresp(e),t();break;case"disconnect":this._handleDisconnect(e),t()}},O.prototype._checkDisconnecting=function(e){return this.disconnecting&&(e?e(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting},O.prototype.publish=function(e,t,r,n){var o,c=this.options;"function"==typeof r&&(n=r,r=null);if(r=y({qos:0,retain:!1,dup:!1},r),this._checkDisconnecting(n))return this;switch(o={cmd:"publish",topic:e,payload:t,qos:r.qos,retain:r.retain,messageId:this._nextId(),dup:r.dup},5===c.protocolVersion&&(o.properties=r.properties,(!c.properties&&o.properties&&o.properties.topicAlias||r.properties&&c.properties&&(r.properties.topicAlias&&c.properties.topicAliasMaximum&&r.properties.topicAlias>c.properties.topicAliasMaximum||!c.properties.topicAliasMaximum&&r.properties.topicAlias))&&delete o.properties.topicAlias),r.qos){case 1:case 2:this.outgoing[o.messageId]={volatile:!1,cb:n||x},this._storeProcessing?(this._packetIdsDuringStoreProcessing[o.messageId]=!1,this._storePacket(o,void 0,r.cbStorePut)):this._sendPacket(o,void 0,r.cbStorePut);break;default:this._storeProcessing?this._storePacket(o,n,r.cbStorePut):this._sendPacket(o,n,r.cbStorePut)}return this},O.prototype.subscribe=function(){for(var e,t=new Array(arguments.length),i=0;i<arguments.length;i++)t[i]=arguments[i];var r,n=[],o=t.shift(),c=o.resubscribe,l=t.pop()||x,f=t.pop(),h=this,d=this.options.protocolVersion;if(delete o.resubscribe,"string"==typeof o&&(o=[o]),"function"!=typeof l&&(f=l,l=x),null!==(r=_.validateTopics(o)))return m(l,new Error("Invalid topic "+r)),this;if(this._checkDisconnecting(l))return this;var v={qos:0};if(5===d&&(v.nl=!1,v.rap=!1,v.rh=0),f=y(v,f),Array.isArray(o)?o.forEach((function(e){if(!h._resubscribeTopics.hasOwnProperty(e)||h._resubscribeTopics[e].qos<f.qos||c){var t={topic:e,qos:f.qos};5===d&&(t.nl=f.nl,t.rap=f.rap,t.rh=f.rh,t.properties=f.properties),n.push(t)}})):Object.keys(o).forEach((function(e){if(!h._resubscribeTopics.hasOwnProperty(e)||h._resubscribeTopics[e].qos<o[e].qos||c){var t={topic:e,qos:o[e].qos};5===d&&(t.nl=o[e].nl,t.rap=o[e].rap,t.rh=o[e].rh,t.properties=f.properties),n.push(t)}})),e={cmd:"subscribe",subscriptions:n,qos:1,retain:!1,dup:!1,messageId:this._nextId()},f.properties&&(e.properties=f.properties),n.length){if(this.options.resubscribe){var w=[];n.forEach((function(sub){if(h.options.reconnectPeriod>0){var e={qos:sub.qos};5===d&&(e.nl=sub.nl||!1,e.rap=sub.rap||!1,e.rh=sub.rh||0,e.properties=sub.properties),h._resubscribeTopics[sub.topic]=e,w.push(sub.topic)}})),h.messageIdToTopic[e.messageId]=w}return this.outgoing[e.messageId]={volatile:!0,cb:function(e,t){if(!e)for(var r=t.granted,i=0;i<r.length;i+=1)n[i].qos=r[i];l(e,n)}},this._sendPacket(e),this}l(null,[])},O.prototype.unsubscribe=function(){for(var e={cmd:"unsubscribe",qos:1,messageId:this._nextId()},t=this,r=new Array(arguments.length),i=0;i<arguments.length;i++)r[i]=arguments[i];var n=r.shift(),o=r.pop()||x,c=r.pop();return"string"==typeof n&&(n=[n]),"function"!=typeof o&&(c=o,o=x),this._checkDisconnecting(o)||("string"==typeof n?e.unsubscriptions=[n]:"object"==typeof n&&n.length&&(e.unsubscriptions=n),this.options.resubscribe&&e.unsubscriptions.forEach((function(e){delete t._resubscribeTopics[e]})),"object"==typeof c&&c.properties&&(e.properties=c.properties),this.outgoing[e.messageId]={volatile:!0,cb:o},this._sendPacket(e)),this},O.prototype.end=function(){var e=this,t=arguments[0],r=arguments[1],n=arguments[2];function o(){e.disconnected=!0,e.incomingStore.close((function(){e.outgoingStore.close((function(){n&&n.apply(null,arguments),e.emit("end")}))})),e._deferredReconnect&&e._deferredReconnect()}function c(){e._cleanUp(t,m.bind(null,o),r)}return null!=t&&"boolean"==typeof t||(n=r||x,r=t,t=!1,"object"!=typeof r&&(n=r,r=null,"function"!=typeof n&&(n=x))),"object"!=typeof r&&(n=r,r=null),n=n||x,this.disconnecting||(this._clearReconnect(),this.disconnecting=!0,!t&&Object.keys(this.outgoing).length>0?this.once("outgoingEmpty",setTimeout.bind(null,c,10)):c()),this},O.prototype.removeOutgoingMessage=function(e){var t=this.outgoing[e]?this.outgoing[e].cb:null;return delete this.outgoing[e],this.outgoingStore.del({messageId:e},(function(){t(new Error("Message removed"))})),this},O.prototype.reconnect=function(e){var t=this,r=function(){e?(t.options.incomingStore=e.incomingStore,t.options.outgoingStore=e.outgoingStore):(t.options.incomingStore=null,t.options.outgoingStore=null),t.incomingStore=t.options.incomingStore||new c,t.outgoingStore=t.options.outgoingStore||new c,t.disconnecting=!1,t.disconnected=!1,t._deferredReconnect=null,t._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=r:r(),this},O.prototype._reconnect=function(){this.emit("reconnect"),this._setupStream()},O.prototype._setupReconnect=function(){var e=this;!e.disconnecting&&!e.reconnectTimer&&e.options.reconnectPeriod>0&&(this.reconnecting||(this.emit("offline"),this.reconnecting=!0),e.reconnectTimer=setInterval((function(){e._reconnect()}),e.options.reconnectPeriod))},O.prototype._clearReconnect=function(){this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)},O.prototype._cleanUp=function(e,t){var r=arguments[2];if(t&&this.stream.on("close",t),e)0===this.options.reconnectPeriod&&this.options.clean&&E(this.outgoing),this.stream.destroy();else{var n=y({cmd:"disconnect"},r);this._sendPacket(n,m.bind(null,this.stream.end.bind(this.stream)))}this.disconnecting||(this._clearReconnect(),this._setupReconnect()),null!==this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),t&&!this.connected&&(this.stream.removeListener("close",t),t())},O.prototype._sendPacket=function(e,t,r){if(r=r||x,this.connected){switch(this._shiftPingInterval(),e.cmd){case"publish":break;case"pubrel":return void k(this,e,t,r);default:return void S(this,e,t)}switch(e.qos){case 2:case 1:k(this,e,t,r);break;case 0:default:S(this,e,t)}}else this._storePacket(e,t,r)},O.prototype._storePacket=function(e,t,r){r=r||x,0===(e.qos||0)&&this.queueQoSZero||"publish"!==e.cmd?this.queue.push({packet:e,cb:t}):e.qos>0?(t=this.outgoing[e.messageId]?this.outgoing[e.messageId].cb:null,this.outgoingStore.put(e,(function(e){if(e)return t&&t(e);r()}))):t&&t(new Error("No connection to broker"))},O.prototype._setupPingTimer=function(){var e=this;!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=d((function(){e._checkPing()}),1e3*this.options.keepalive))},O.prototype._shiftPingInterval=function(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(1e3*this.options.keepalive)},O.prototype._checkPing=function(){this.pingResp?(this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):this._cleanUp(!0)},O.prototype._handlePingresp=function(){this.pingResp=!0},O.prototype._handleConnack=function(e){var t=this.options,r=5===t.protocolVersion?e.reasonCode:e.returnCode;if(clearTimeout(this.connackTimer),e.properties&&(e.properties.topicAliasMaximum&&(t.properties||(t.properties={}),t.properties.topicAliasMaximum=e.properties.topicAliasMaximum),e.properties.serverKeepAlive&&t.keepalive&&(t.keepalive=e.properties.serverKeepAlive,this._shiftPingInterval()),e.properties.maximumPacketSize&&(t.properties||(t.properties={}),t.properties.maximumPacketSize=e.properties.maximumPacketSize)),0===r)this.reconnecting=!1,this._onConnect(e);else if(r>0){var n=new Error("Connection refused: "+w[r]);n.code=r,this.emit("error",n)}},O.prototype._handlePublish=function(e,t){t=void 0!==t?t:x;var r=e.topic.toString(),n=e.payload,o=e.qos,c=e.messageId,l=this,f=this.options,h=[0,16,128,131,135,144,145,151,153];switch(o){case 2:f.customHandleAcks(r,n,e,(function(r,code){return r instanceof Error||(code=r,r=null),r?l.emit("error",r):-1===h.indexOf(code)?l.emit("error",new Error("Wrong reason code for pubrec")):void(code?l._sendPacket({cmd:"pubrec",messageId:c,reasonCode:code},t):l.incomingStore.put(e,(function(){l._sendPacket({cmd:"pubrec",messageId:c},t)})))}));break;case 1:f.customHandleAcks(r,n,e,(function(o,code){return o instanceof Error||(code=o,o=null),o?l.emit("error",o):-1===h.indexOf(code)?l.emit("error",new Error("Wrong reason code for puback")):(code||l.emit("message",r,n,e),void l.handleMessage(e,(function(e){if(e)return t&&t(e);l._sendPacket({cmd:"puback",messageId:c,reasonCode:code},t)})))}));break;case 0:this.emit("message",r,n,e),this.handleMessage(e,t)}},O.prototype.handleMessage=function(e,t){t()},O.prototype._handleAck=function(e){var t,r=e.messageId,n=e.cmd,o=null,c=this.outgoing[r]?this.outgoing[r].cb:null,l=this;if(c){switch(n){case"pubcomp":case"puback":var f=e.reasonCode;f&&f>0&&16!==f&&((t=new Error("Publish error: "+w[f])).code=f,c(t,e)),delete this.outgoing[r],this.outgoingStore.del(e,c);break;case"pubrec":o={cmd:"pubrel",qos:2,messageId:r};var h=e.reasonCode;h&&h>0&&16!==h?((t=new Error("Publish error: "+w[h])).code=h,c(t,e)):this._sendPacket(o);break;case"suback":delete this.outgoing[r];for(var d=0;d<e.granted.length;d++)if(0!=(128&e.granted[d])){var _=this.messageIdToTopic[r];_&&_.forEach((function(e){delete l._resubscribeTopics[e]}))}c(null,e);break;case"unsuback":delete this.outgoing[r],c(null);break;default:l.emit("error",new Error("unrecognized packet type"))}this.disconnecting&&0===Object.keys(this.outgoing).length&&this.emit("outgoingEmpty")}},O.prototype._handlePubrel=function(e,t){t=void 0!==t?t:x;var r=e.messageId,n=this,o={cmd:"pubcomp",messageId:r};n.incomingStore.get(e,(function(e,r){e?n._sendPacket(o,t):(n.emit("message",r.topic,r.payload,r),n.handleMessage(r,(function(e){if(e)return t(e);n.incomingStore.del(r,x),n._sendPacket(o,t)})))}))},O.prototype._handleDisconnect=function(e){this.emit("disconnect",e)},O.prototype._nextId=function(){var e=this.nextId++;return 65536===this.nextId&&(this.nextId=1),e},O.prototype.getLastMessageId=function(){return 1===this.nextId?65535:this.nextId-1},O.prototype._resubscribe=function(e){var t=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||5===this.options.protocolVersion&&!e.sessionPresent)&&t.length>0)if(this.options.resubscribe)if(5===this.options.protocolVersion)for(var r=0;r<t.length;r++){var n={};n[t[r]]=this._resubscribeTopics[t[r]],n.resubscribe=!0,this.subscribe(n,{properties:n[t[r]].properties})}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1},O.prototype._onConnect=function(e){if(this.disconnected)this.emit("connect",e);else{var t=this;this._setupPingTimer(),this._resubscribe(e),this.connected=!0,function r(){var n=t.outgoingStore.createStream();function o(){t._storeProcessing=!1,t._packetIdsDuringStoreProcessing={}}function c(){n.destroy(),n=null,o()}t.once("close",c),n.on("error",(function(e){o(),t.removeListener("close",c),t.emit("error",e)})),n.on("end",(function(){var n=!0;for(var l in t._packetIdsDuringStoreProcessing)if(!t._packetIdsDuringStoreProcessing[l]){n=!1;break}n?(o(),t.removeListener("close",c),t.emit("connect",e)):r()})),function e(){if(n){t._storeProcessing=!0;var r,o=n.read(1);o?t._packetIdsDuringStoreProcessing[o.messageId]?e():t.disconnecting||t.reconnectTimer?n.destroy&&n.destroy():(r=t.outgoing[o.messageId]?t.outgoing[o.messageId].cb:null,t.outgoing[o.messageId]={volatile:!1,cb:function(t,n){r&&r(t,n),e()}},t._packetIdsDuringStoreProcessing[o.messageId]=!0,t._sendPacket(o)):n.once("readable",e)}}()}()}},e.exports=O}).call(this,r(60),r(205))},2343:function(e,t,r){"use strict";var n=r(1744).Buffer,o=r(1573);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,e=""+p.data;p=p.next;)e+=s+p.data;return e},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,o,c=n.allocUnsafe(e>>>0),p=this.head,i=0;p;)t=p.data,r=c,o=i,t.copy(r,o),i+=p.data.length,p=p.next;return c},e}(),o&&o.inspect&&o.inspect.custom&&(e.exports.prototype[o.inspect.custom]=function(){var e=o.inspect({length:this.length});return this.constructor.name+" "+e})},2344:function(e,t,r){"use strict";e.exports=c;var n=r(2003),o=Object.create(r(1745));function c(e){if(!(this instanceof c))return new c(e);n.call(this,e)}o.inherits=r(1625),o.inherits(c,n),c.prototype._transform=function(e,t,r){r(null,e)}},2345:function(e,t,r){"use strict";e.exports=r(2346)()?Map:r(2347)},2346:function(e,t,r){"use strict";e.exports=function(){var map,e;if("function"!=typeof Map)return!1;try{map=new Map([["raz","one"],["dwa","two"],["trzy","three"]])}catch(e){return!1}return"[object Map]"===String(map)&&(3===map.size&&("function"==typeof map.clear&&("function"==typeof map.delete&&("function"==typeof map.entries&&("function"==typeof map.forEach&&("function"==typeof map.get&&("function"==typeof map.has&&("function"==typeof map.keys&&("function"==typeof map.set&&("function"==typeof map.values&&(!1===(e=map.entries().next()).done&&(!!e.value&&("raz"===e.value[0]&&"one"===e.value[1])))))))))))))}},2347:function(e,t,r){"use strict";var n,o=r(2004),c=r(2349),l=r(1844),f=r(1669),h=r(1647),d=r(1643),_=r(2368),y=r(1660),m=r(2012),v=r(2378),w=r(2396),S=r(2399),E=Function.prototype.call,k=Object.defineProperties,x=Object.getPrototypeOf;e.exports=n=function(){var e,t,r,o=arguments[0];if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");return r=S&&l&&Map!==n?l(new Map,x(this)):this,null!=o&&m(o),k(r,{__mapKeysData__:d("c",e=[]),__mapValuesData__:d("c",t=[])}),o?(v(o,(function(r){var n=h(r)[0];r=r[1],-1===c.call(e,n)&&(e.push(n),t.push(r))}),r),r):r},S&&(l&&l(n,Map),n.prototype=Object.create(Map.prototype,{constructor:d(n)})),_(k(n.prototype,{clear:d((function(){this.__mapKeysData__.length&&(o.call(this.__mapKeysData__),o.call(this.__mapValuesData__),this.emit("_clear"))})),delete:d((function(e){var t=c.call(this.__mapKeysData__,e);return-1!==t&&(this.__mapKeysData__.splice(t,1),this.__mapValuesData__.splice(t,1),this.emit("_delete",t,e),!0)})),entries:d((function(){return new w(this,"key+value")})),forEach:d((function(e){var t,r,n=arguments[1];for(f(e),r=(t=this.entries())._next();void 0!==r;)E.call(e,n,this.__mapValuesData__[r],this.__mapKeysData__[r],this),r=t._next()})),get:d((function(e){var t=c.call(this.__mapKeysData__,e);if(-1!==t)return this.__mapValuesData__[t]})),has:d((function(e){return-1!==c.call(this.__mapKeysData__,e)})),keys:d((function(){return new w(this,"key")})),set:d((function(e,t){var r,n=c.call(this.__mapKeysData__,e);return-1===n&&(n=this.__mapKeysData__.push(e)-1,r=!0),this.__mapValuesData__[n]=t,r&&this.emit("_add",n,e),this})),size:d.gs((function(){return this.__mapKeysData__.length})),values:d((function(){return new w(this,"value")})),toString:d((function(){return"[object Map]"}))})),Object.defineProperty(n.prototype,y.iterator,d((function(){return this.entries()}))),Object.defineProperty(n.prototype,y.toStringTag,d("c","Map"))},2348:function(e,t,r){"use strict";e.exports=function(){}},2349:function(e,t,r){"use strict";var n=r(2350),o=r(2005),c=r(1647),l=Array.prototype.indexOf,f=Object.prototype.hasOwnProperty,h=Math.abs,d=Math.floor;e.exports=function(e){var i,t,r,_;if(!n(e))return l.apply(this,arguments);for(t=o(c(this).length),r=arguments[1],i=r=isNaN(r)?0:r>=0?d(r):o(this.length)-d(h(r));i<t;++i)if(f.call(this,i)&&(_=this[i],n(_)))return i;return-1}},2350:function(e,t,r){"use strict";e.exports=r(2351)()?Number.isNaN:r(2352)},2351:function(e,t,r){"use strict";e.exports=function(){var e=Number.isNaN;return"function"==typeof e&&(!e({})&&e(NaN)&&!e(34))}},2352:function(e,t,r){"use strict";e.exports=function(e){return e!=e}},2353:function(e,t,r){"use strict";var n=r(2354),o=Math.abs,c=Math.floor;e.exports=function(e){return isNaN(e)?0:0!==(e=Number(e))&&isFinite(e)?n(e)*c(o(e)):e}},2354:function(e,t,r){"use strict";e.exports=r(2355)()?Math.sign:r(2356)},2355:function(e,t,r){"use strict";e.exports=function(){var e=Math.sign;return"function"==typeof e&&(1===e(10)&&-1===e(-20))}},2356:function(e,t,r){"use strict";e.exports=function(e){return e=Number(e),isNaN(e)||0===e?e:e>0?1:-1}},2357:function(e,t,r){"use strict";var n=r(1694),map={function:!0,object:!0};e.exports=function(e){return n(e)&&map[typeof e]||!1}},2358:function(e,t,r){"use strict";var n,o,c,desc,l=Object.create;r(2006)()||(n=r(2007)),e.exports=n?1!==n.level?l:(o={},c={},desc={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(e){c[e]="__proto__"!==e?desc:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(o,c),Object.defineProperty(n,"nullPolyfill",{configurable:!1,enumerable:!1,writable:!1,value:o}),function(e,t){return l(null===e?o:e,t)}):l},2359:function(e,t,r){"use strict";var n=r(2360);e.exports=function(e){if("function"!=typeof e)return!1;if(!hasOwnProperty.call(e,"length"))return!1;try{if("number"!=typeof e.length)return!1;if("function"!=typeof e.call)return!1;if("function"!=typeof e.apply)return!1}catch(e){return!1}return!n(e)}},2360:function(e,t,r){"use strict";var n=r(1882);e.exports=function(e){if(!n(e))return!1;try{return!!e.constructor&&e.constructor.prototype===e}catch(e){return!1}}},2361:function(e,t,r){"use strict";e.exports=function(){var e,t=Object.assign;return"function"==typeof t&&(t(e={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),e.foo+e.bar+e.trzy==="razdwatrzy")}},2362:function(e,t,r){"use strict";var n=r(2363),o=r(1647),c=Math.max;e.exports=function(e,t){var r,i,l,f=c(arguments.length,2);for(e=Object(o(e)),l=function(n){try{e[n]=t[n]}catch(e){r||(r=e)}},i=1;i<f;++i)n(t=arguments[i]).forEach(l);if(void 0!==r)throw r;return e}},2363:function(e,t,r){"use strict";e.exports=r(2364)()?Object.keys:r(2365)},2364:function(e,t,r){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(e){return!1}}},2365:function(e,t,r){"use strict";var n=r(1694),o=Object.keys;e.exports=function(object){return o(n(object)?Object(object):object)}},2366:function(e,t,r){"use strict";var n="razdwatrzy";e.exports=function(){return"function"==typeof n.contains&&(!0===n.contains("dwa")&&!1===n.contains("foo"))}},2367:function(e,t,r){"use strict";var n=String.prototype.indexOf;e.exports=function(e){return n.call(this,e,arguments[1])>-1}},2368:function(e,t,r){"use strict";var n,o,c,l,f,h,base,d=r(1643),_=r(1669),y=Function.prototype.apply,m=Function.prototype.call,v=Object.create,w=Object.defineProperty,S=Object.defineProperties,E=Object.prototype.hasOwnProperty,k={configurable:!0,enumerable:!1,writable:!0};o=function(e,t){var r,o;return _(t),o=this,n.call(this,e,r=function(){c.call(o,e,r),y.call(t,this,arguments)}),r.__eeOnceListener__=t,this},f={on:n=function(e,t){var data;return _(t),E.call(this,"__ee__")?data=this.__ee__:(data=k.value=v(null),w(this,"__ee__",k),k.value=null),data[e]?"object"==typeof data[e]?data[e].push(t):data[e]=[data[e],t]:data[e]=t,this},once:o,off:c=function(e,t){var data,r,n,i;if(_(t),!E.call(this,"__ee__"))return this;if(!(data=this.__ee__)[e])return this;if("object"==typeof(r=data[e]))for(i=0;n=r[i];++i)n!==t&&n.__eeOnceListener__!==t||(2===r.length?data[e]=r[i?0:1]:r.splice(i,1));else r!==t&&r.__eeOnceListener__!==t||delete data[e];return this},emit:l=function(e){var i,t,r,n,o;if(E.call(this,"__ee__")&&(n=this.__ee__[e]))if("object"==typeof n){for(t=arguments.length,o=new Array(t-1),i=1;i<t;++i)o[i-1]=arguments[i];for(n=n.slice(),i=0;r=n[i];++i)y.call(r,this,o)}else switch(arguments.length){case 1:m.call(n,this);break;case 2:m.call(n,this,arguments[1]);break;case 3:m.call(n,this,arguments[1],arguments[2]);break;default:for(t=arguments.length,o=new Array(t-1),i=1;i<t;++i)o[i-1]=arguments[i];y.call(n,this,o)}}},h={on:d(n),once:d(o),off:d(c),emit:d(l)},base=S({},h),e.exports=t=function(e){return null==e?v(base):S(Object(e),h)},t.methods=f},2369:function(e,t,r){"use strict";var n=r(1845),o={object:!0,symbol:!0};e.exports=function(){var symbol,e=n.Symbol;if("function"!=typeof e)return!1;symbol=e("test symbol");try{String(symbol)}catch(e){return!1}return!!o[typeof e.iterator]&&(!!o[typeof e.toPrimitive]&&!!o[typeof e.toStringTag])}},2370:function(e,t,r){"use strict";e.exports=function(){return"object"==typeof globalThis&&(!!globalThis&&globalThis.Array===Array)}},2371:function(e,t){var r=function(){if("object"==typeof self&&self)return self;if("object"==typeof window&&window)return window;throw new Error("Unable to resolve global `this`")};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch(e){return r()}try{return __global__||r()}finally{delete Object.prototype.__global__}}()},2372:function(e,t,r){"use strict";var n,o,c,l=r(1643),f=r(2011),h=r(1845).Symbol,d=r(2374),_=r(2375),y=r(2376),m=Object.create,v=Object.defineProperties,w=Object.defineProperty;if("function"==typeof h)try{String(h()),c=!0}catch(e){}else h=null;o=function(e){if(this instanceof o)throw new TypeError("Symbol is not a constructor");return n(e)},e.exports=n=function e(t){var symbol;if(this instanceof e)throw new TypeError("Symbol is not a constructor");return c?h(t):(symbol=m(o.prototype),t=void 0===t?"":String(t),v(symbol,{__description__:l("",t),__name__:l("",d(t))}))},_(n),y(n),v(o.prototype,{constructor:l(n),toString:l("",(function(){return this.__name__}))}),v(n.prototype,{toString:l((function(){return"Symbol ("+f(this).__description__+")"})),valueOf:l((function(){return f(this)}))}),w(n.prototype,n.toPrimitive,l("",(function(){var symbol=f(this);return"symbol"==typeof symbol?symbol:symbol.toString()}))),w(n.prototype,n.toStringTag,l("c","Symbol")),w(o.prototype,n.toStringTag,l("c",n.prototype[n.toStringTag])),w(o.prototype,n.toPrimitive,l("c",n.prototype[n.toPrimitive]))},2373:function(e,t,r){"use strict";e.exports=function(e){return!!e&&("symbol"==typeof e||!!e.constructor&&("Symbol"===e.constructor.name&&"Symbol"===e[e.constructor.toStringTag]))}},2374:function(e,t,r){"use strict";var n=r(1643),o=Object.create,c=Object.defineProperty,l=Object.prototype,f=o(null);e.exports=function(desc){for(var e,t,r=0;f[desc+(r||"")];)++r;return f[desc+=r||""]=!0,c(l,e="@@"+desc,n.gs(null,(function(r){t||(t=!0,c(this,e,n(r)),t=!1)}))),e}},2375:function(e,t,r){"use strict";var n=r(1643),o=r(1845).Symbol;e.exports=function(e){return Object.defineProperties(e,{hasInstance:n("",o&&o.hasInstance||e("hasInstance")),isConcatSpreadable:n("",o&&o.isConcatSpreadable||e("isConcatSpreadable")),iterator:n("",o&&o.iterator||e("iterator")),match:n("",o&&o.match||e("match")),replace:n("",o&&o.replace||e("replace")),search:n("",o&&o.search||e("search")),species:n("",o&&o.species||e("species")),split:n("",o&&o.split||e("split")),toPrimitive:n("",o&&o.toPrimitive||e("toPrimitive")),toStringTag:n("",o&&o.toStringTag||e("toStringTag")),unscopables:n("",o&&o.unscopables||e("unscopables"))})}},2376:function(e,t,r){"use strict";var n=r(1643),o=r(2011),c=Object.create(null);e.exports=function(e){return Object.defineProperties(e,{for:n((function(t){return c[t]?c[t]:c[t]=e(String(t))})),keyFor:n((function(symbol){var e;for(e in o(symbol),c)if(c[e]===symbol)return e}))})}},2377:function(e,t,r){"use strict";var n=r(1846),o=r(1694),c=r(1847),l=r(1660).iterator,f=Array.isArray;e.exports=function(e){return!!o(e)&&(!!f(e)||(!!c(e)||(!!n(e)||"function"==typeof e[l])))}},2378:function(e,t,r){"use strict";var n=r(1846),o=r(1669),c=r(1847),l=r(2379),f=Array.isArray,h=Function.prototype.call,d=Array.prototype.some;e.exports=function(e,t){var r,_,y,m,i,v,w,code,S=arguments[2];if(f(e)||n(e)?r="array":c(e)?r="string":e=l(e),o(t),y=function(){m=!0},"array"!==r)if("string"!==r)for(_=e.next();!_.done;){if(h.call(t,S,_.value,y),m)return;_=e.next()}else for(v=e.length,i=0;i<v&&(w=e[i],i+1<v&&(code=w.charCodeAt(0))>=55296&&code<=56319&&(w+=e[++i]),h.call(t,S,w,y),!m);++i);else d.call(e,(function(e){return h.call(t,S,e,y),m}))}},2379:function(e,t,r){"use strict";var n=r(1846),o=r(1847),c=r(2380),l=r(2395),f=r(2012),h=r(1660).iterator;e.exports=function(e){return"function"==typeof f(e)[h]?e[h]():n(e)?new c(e):o(e)?new l(e):new c(e)}},2380:function(e,t,r){"use strict";var n,o=r(1844),c=r(2010),l=r(1643),f=r(1660),h=r(1884),d=Object.defineProperty;n=e.exports=function(e,t){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");h.call(this,e),t=t?c.call(t,"key+value")?"key+value":c.call(t,"key")?"key":"value":"value",d(this,"__kind__",l("",t))},o&&o(n,h),delete n.prototype.constructor,n.prototype=Object.create(h.prototype,{_resolve:l((function(i){return"value"===this.__kind__?this.__list__[i]:"key+value"===this.__kind__?[i,this.__list__[i]]:i}))}),d(n.prototype,f.toStringTag,l("c","Array Iterator"))},2381:function(e,t,r){"use strict";var n,o=r(1695),c=r(2382),l=r(2386),f=r(2387),h=r(2009),map=r(2392),d=Function.prototype.bind,_=Object.defineProperty,y=Object.prototype.hasOwnProperty;n=function(e,desc,t){var r,n=c(desc)&&l(desc.value);return delete(r=f(desc)).writable,delete r.value,r.get=function(){return!t.overwriteDefinition&&y.call(this,e)?n:(desc.value=d.call(n,t.resolveContext?t.resolveContext(this):this),_(this,e,desc),this[e])},r},e.exports=function(e){var t=h(arguments[1]);return o(t.resolveContext)&&l(t.resolveContext),map(e,(function(desc,e){return n(e,desc,t)}))}},2382:function(e,t,r){"use strict";var n=r(2013),o=r(1695);e.exports=function(e){return o(e)?e:n(e,"Cannot use %v",arguments[1])}},2383:function(e,t,r){"use strict";var n=r(1695),o=r(1882),c=Object.prototype.toString;e.exports=function(e){if(!n(e))return null;if(o(e)){var t=e.toString;if("function"!=typeof t)return null;if(t===c)return null}try{return""+e}catch(e){return null}}},2384:function(e,t,r){"use strict";var n=r(2385),o=/[\n\r\u2028\u2029]/g;e.exports=function(e){var t=n(e);return null===t?"<Non-coercible to string value>":(t.length>100&&(t=t.slice(0,99)+"…"),t=t.replace(o,(function(e){switch(e){case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw new Error("Unexpected character")}})))}},2385:function(e,t,r){"use strict";e.exports=function(e){try{return e.toString()}catch(t){try{return String(e)}catch(e){return null}}}},2386:function(e,t,r){"use strict";var n=r(2013),o=r(2008);e.exports=function(e){return o(e)?e:n(e,"%v is not a plain function",arguments[1])}},2387:function(e,t,r){"use strict";var n=r(2388),o=r(1883),c=r(1647);e.exports=function(e){var t=Object(c(e)),r=arguments[1],l=Object(arguments[2]);if(t!==e&&!r)return t;var f={};return r?n(r,(function(t){(l.ensure||t in e)&&(f[t]=e[t])})):o(f,e),f}},2388:function(e,t,r){"use strict";e.exports=r(2389)()?Array.from:r(2390)},2389:function(e,t,r){"use strict";e.exports=function(){var e,t,r=Array.from;return"function"==typeof r&&(t=r(e=["raz","dwa"]),Boolean(t&&t!==e&&"dwa"===t[1]))}},2390:function(e,t,r){"use strict";var n=r(1660).iterator,o=r(1846),c=r(2391),l=r(2005),f=r(1669),h=r(1647),d=r(1694),_=r(1847),y=Array.isArray,m=Function.prototype.call,desc={configurable:!0,enumerable:!0,writable:!0,value:null},v=Object.defineProperty;e.exports=function(e){var t,i,r,w,S,code,E,k,x,O,C=arguments[1],I=arguments[2];if(e=Object(h(e)),d(C)&&f(C),this&&this!==Array&&c(this))t=this;else{if(!C){if(o(e))return 1!==(S=e.length)?Array.apply(null,e):((w=new Array(1))[0]=e[0],w);if(y(e)){for(w=new Array(S=e.length),i=0;i<S;++i)w[i]=e[i];return w}}w=[]}if(!y(e))if(void 0!==(x=e[n])){for(E=f(x).call(e),t&&(w=new t),k=E.next(),i=0;!k.done;)O=C?m.call(C,I,k.value,i):k.value,t?(desc.value=O,v(w,i,desc)):w[i]=O,k=E.next(),++i;S=i}else if(_(e)){for(S=e.length,t&&(w=new t),i=0,r=0;i<S;++i)O=e[i],i+1<S&&(code=O.charCodeAt(0))>=55296&&code<=56319&&(O+=e[++i]),O=C?m.call(C,I,O,r):O,t?(desc.value=O,v(w,r,desc)):w[r]=O,++r;S=r}if(void 0===S)for(S=l(e.length),t&&(w=new t(S)),i=0;i<S;++i)O=C?m.call(C,I,e[i],i):e[i],t?(desc.value=O,v(w,i,desc)):w[i]=O;return t&&(desc.value=null,w.length=S),w}},2391:function(e,t,r){"use strict";var n=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(e){return"function"==typeof e&&o(n.call(e))}},2392:function(e,t,r){"use strict";var n=r(1669),o=r(2393),c=Function.prototype.call;e.exports=function(e,t){var r={},l=arguments[2];return n(t),o(e,(function(e,n,o,f){r[n]=c.call(t,l,e,n,o,f)})),r}},2393:function(e,t,r){"use strict";e.exports=r(2394)("forEach")},2394:function(e,t,r){"use strict";var n=r(1669),o=r(1647),c=Function.prototype.bind,l=Function.prototype.call,f=Object.keys,h=Object.prototype.propertyIsEnumerable;e.exports=function(e,t){return function(r,d){var _,y=arguments[2],m=arguments[3];return r=Object(o(r)),n(d),_=f(r),m&&_.sort("function"==typeof m?c.call(m,r):void 0),"function"!=typeof e&&(e=_[e]),l.call(e,_,(function(e,n){return h.call(r,e)?l.call(d,y,r[e],e,r,n):t}))}}},2395:function(e,t,r){"use strict";var n,o=r(1844),c=r(1643),l=r(1660),f=r(1884),h=Object.defineProperty;n=e.exports=function(e){if(!(this instanceof n))throw new TypeError("Constructor requires 'new'");e=String(e),f.call(this,e),h(this,"__length__",c("",e.length))},o&&o(n,f),delete n.prototype.constructor,n.prototype=Object.create(f.prototype,{_next:c((function(){if(this.__list__)return this.__nextIndex__<this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:c((function(i){var code,e=this.__list__[i];return this.__nextIndex__===this.__length__?e:(code=e.charCodeAt(0))>=55296&&code<=56319?e+this.__list__[this.__nextIndex__++]:e}))}),h(n.prototype,l.toStringTag,c("c","String Iterator"))},2396:function(e,t,r){"use strict";var n,o=r(1844),c=r(1643),l=r(1884),f=r(1660).toStringTag,h=r(2397),d=Object.defineProperties,_=l.prototype._unBind;n=e.exports=function(map,e){if(!(this instanceof n))return new n(map,e);l.call(this,map.__mapKeysData__,map),e&&h[e]||(e="key+value"),d(this,{__kind__:c("",e),__values__:c("w",map.__mapValuesData__)})},o&&o(n,l),n.prototype=Object.create(l.prototype,{constructor:c(n),_resolve:c((function(i){return"value"===this.__kind__?this.__values__[i]:"key"===this.__kind__?this.__list__[i]:[this.__list__[i],this.__values__[i]]})),_unBind:c((function(){this.__values__=null,_.call(this)})),toString:c((function(){return"[object Map Iterator]"}))}),Object.defineProperty(n.prototype,f,c("c","Map Iterator"))},2397:function(e,t,r){"use strict";e.exports=r(2398)("key","value","key+value")},2398:function(e,t,r){"use strict";var n=Array.prototype.forEach,o=Object.create;e.exports=function(e){var t=o(null);return n.call(arguments,(function(e){t[e]=!0})),t}},2399:function(e,t,r){"use strict";e.exports="undefined"!=typeof Map&&"[object Map]"===Object.prototype.toString.call(new Map)},2400:function(e,t,r){t.parser=r(2401).parser,t.generate=r(2413),t.writeToStream=r(2022)},2401:function(e,t,r){const n=r(2402),o=r(1668),c=r(2410),l=r(2020),f=r(2021)("mqtt-packet:parser");class h extends o{constructor(){super(),this.parser=this.constructor.parser}static parser(e){return this instanceof h?(this.settings=e||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):(new h).parser(e)}_resetState(){f("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new c,this.error=null,this._list=n(),this._stateCounter=0}parse(e){for(this.error&&this._resetState(),this._list.append(e),f("parse: current state: %s",this._states[this._stateCounter]);(-1!==this.packet.length||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,f("parse: state complete. _stateCounter is now: %d",this._stateCounter),f("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return f("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const e=this._list.readUInt8(0);return this.packet.cmd=l.types[e>>l.CMD_SHIFT],this.packet.retain=0!=(e&l.RETAIN_MASK),this.packet.qos=e>>l.QOS_SHIFT&l.QOS_MASK,this.packet.dup=0!=(e&l.DUP_MASK),f("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0}_parseLength(){const e=this._parseVarByteNum(!0);return e&&(this.packet.length=e.value,this._list.consume(e.bytes)),f("_parseLength %d",e.value),!!e}_parsePayload(){f("_parsePayload: payload %O",this._list);let e=!1;if(0===this.packet.length||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}e=!0}return f("_parsePayload complete result: %s",e),e}_parseConnect(){let e,t,r,n;f("_parseConnect");const o={},c=this.packet,h=this._parseString();if(null===h)return this._emitError(new Error("Cannot parse protocolId"));if("MQTT"!==h&&"MQIsdp"!==h)return this._emitError(new Error("Invalid protocolId"));if(c.protocolId=h,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(c.protocolVersion=this._list.readUInt8(this._pos),c.protocolVersion>=128&&(c.bridgeMode=!0,c.protocolVersion=c.protocolVersion-128),3!==c.protocolVersion&&4!==c.protocolVersion&&5!==c.protocolVersion)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(o.username=this._list.readUInt8(this._pos)&l.USERNAME_MASK,o.password=this._list.readUInt8(this._pos)&l.PASSWORD_MASK,o.will=this._list.readUInt8(this._pos)&l.WILL_FLAG_MASK,o.will&&(c.will={},c.will.retain=0!=(this._list.readUInt8(this._pos)&l.WILL_RETAIN_MASK),c.will.qos=(this._list.readUInt8(this._pos)&l.WILL_QOS_MASK)>>l.WILL_QOS_SHIFT),c.clean=0!=(this._list.readUInt8(this._pos)&l.CLEAN_SESSION_MASK),this._pos++,c.keepalive=this._parseNum(),-1===c.keepalive)return this._emitError(new Error("Packet too short"));if(5===c.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(c.properties=e)}const d=this._parseString();if(null===d)return this._emitError(new Error("Packet too short"));if(c.clientId=d,f("_parseConnect: packet.clientId: %s",c.clientId),o.will){if(5===c.protocolVersion){const e=this._parseProperties();Object.getOwnPropertyNames(e).length&&(c.will.properties=e)}if(e=this._parseString(),null===e)return this._emitError(new Error("Cannot parse will topic"));if(c.will.topic=e,f("_parseConnect: packet.will.topic: %s",c.will.topic),t=this._parseBuffer(),null===t)return this._emitError(new Error("Cannot parse will payload"));c.will.payload=t,f("_parseConnect: packet.will.paylaod: %s",c.will.payload)}if(o.username){if(n=this._parseString(),null===n)return this._emitError(new Error("Cannot parse username"));c.username=n,f("_parseConnect: packet.username: %s",c.username)}if(o.password){if(r=this._parseBuffer(),null===r)return this._emitError(new Error("Cannot parse password"));c.password=r}return this.settings=c,f("_parseConnect: complete"),c}_parseConnack(){f("_parseConnack");const e=this.packet;if(this._list.length<1)return null;if(e.sessionPresent=!!(this._list.readUInt8(this._pos++)&l.SESSIONPRESENT_MASK),5===this.settings.protocolVersion)this._list.length>=2?e.reasonCode=this._list.readUInt8(this._pos++):e.reasonCode=0;else{if(this._list.length<2)return null;e.returnCode=this._list.readUInt8(this._pos++)}if(-1===e.returnCode||-1===e.reasonCode)return this._emitError(new Error("Cannot parse return code"));if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}f("_parseConnack: complete")}_parsePublish(){f("_parsePublish");const e=this.packet;if(e.topic=this._parseString(),null===e.topic)return this._emitError(new Error("Cannot parse topic"));if(!(e.qos>0)||this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}e.payload=this._list.slice(this._pos,e.length),f("_parsePublish: payload from buffer list: %o",e.payload)}}_parseSubscribe(){f("_parseSubscribe");const e=this.packet;let t,r,n,o,c,h,d;if(1!==e.qos)return this._emitError(new Error("Wrong subscribe header"));if(e.subscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){if(t=this._parseString(),null===t)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=e.length)return this._emitError(new Error("Malformed Subscribe Payload"));r=this._parseByte(),n=r&l.SUBSCRIBE_OPTIONS_QOS_MASK,h=0!=(r>>l.SUBSCRIBE_OPTIONS_NL_SHIFT&l.SUBSCRIBE_OPTIONS_NL_MASK),c=0!=(r>>l.SUBSCRIBE_OPTIONS_RAP_SHIFT&l.SUBSCRIBE_OPTIONS_RAP_MASK),o=r>>l.SUBSCRIBE_OPTIONS_RH_SHIFT&l.SUBSCRIBE_OPTIONS_RH_MASK,d={topic:t,qos:n},5===this.settings.protocolVersion?(d.nl=h,d.rap=c,d.rh=o):this.settings.bridgeMode&&(d.rh=0,d.rap=!0,d.nl=!0),f("_parseSubscribe: push subscription `%s` to subscription",d),e.subscriptions.push(d)}}}_parseSuback(){f("_parseSuback");const e=this.packet;if(this.packet.granted=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseUnsubscribe(){f("_parseUnsubscribe");const e=this.packet;if(e.unsubscriptions=[],this._parseMessageId()){if(5===this.settings.protocolVersion){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}for(;this._pos<e.length;){const t=this._parseString();if(null===t)return this._emitError(new Error("Cannot parse topic"));f("_parseUnsubscribe: push topic `%s` to unsubscriptions",t),e.unsubscriptions.push(t)}}}_parseUnsuback(){f("_parseUnsuback");const e=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if(5===this.settings.protocolVersion){const t=this._parseProperties();for(Object.getOwnPropertyNames(t).length&&(e.properties=t),e.granted=[];this._pos<this.packet.length;)this.packet.granted.push(this._list.readUInt8(this._pos++))}}_parseConfirmation(){f("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const e=this.packet;if(this._parseMessageId(),5===this.settings.protocolVersion&&(e.length>2?(e.reasonCode=this._parseByte(),f("_parseConfirmation: packet.reasonCode `%d`",e.reasonCode)):e.reasonCode=0,e.length>3)){const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return!0}_parseDisconnect(){const e=this.packet;if(f("_parseDisconnect"),5===this.settings.protocolVersion){this._list.length>0?e.reasonCode=this._parseByte():e.reasonCode=0;const t=this._parseProperties();Object.getOwnPropertyNames(t).length&&(e.properties=t)}return f("_parseDisconnect result: true"),!0}_parseAuth(){f("_parseAuth");const e=this.packet;if(5!==this.settings.protocolVersion)return this._emitError(new Error("Not supported auth packet for this version MQTT"));e.reasonCode=this._parseByte();const t=this._parseProperties();return Object.getOwnPropertyNames(t).length&&(e.properties=t),f("_parseAuth: result: true"),!0}_parseMessageId(){const e=this.packet;return e.messageId=this._parseNum(),null===e.messageId?(this._emitError(new Error("Cannot parse messageId")),!1):(f("_parseMessageId: packet.messageId %d",e.messageId),!0)}_parseString(e){const t=this._parseNum(),r=t+this._pos;if(-1===t||r>this._list.length||r>this.packet.length)return null;const n=this._list.toString("utf8",this._pos,r);return this._pos+=t,f("_parseString: result: %s",n),n}_parseStringPair(){return f("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const e=this._parseNum(),t=e+this._pos;if(-1===e||t>this._list.length||t>this.packet.length)return null;const r=this._list.slice(this._pos,t);return this._pos+=e,f("_parseBuffer: result: %o",r),r}_parseNum(){if(this._list.length-this._pos<2)return-1;const e=this._list.readUInt16BE(this._pos);return this._pos+=2,f("_parseNum: result: %s",e),e}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const e=this._list.readUInt32BE(this._pos);return this._pos+=4,f("_parse4ByteNum: result: %s",e),e}_parseVarByteNum(e){f("_parseVarByteNum");let t,r=0,n=1,o=0,c=!1;const h=this._pos?this._pos:0;for(;r<4&&h+r<this._list.length;){if(t=this._list.readUInt8(h+r++),o+=n*(t&l.VARBYTEINT_MASK),n*=128,0==(t&l.VARBYTEINT_FIN_MASK)){c=!0;break}if(this._list.length<=r)break}return!c&&4===r&&this._list.length>=r&&this._emitError(new Error("Invalid variable byte integer")),h&&(this._pos+=r),c=!!c&&(e?{bytes:r,value:o}:o),f("_parseVarByteNum: result: %o",c),c}_parseByte(){let e;return this._pos<this._list.length&&(e=this._list.readUInt8(this._pos),this._pos++),f("_parseByte: result: %o",e),e}_parseByType(e){switch(f("_parseByType: type: %s",e),e){case"byte":return 0!==this._parseByte();case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){f("_parseProperties");const e=this._parseVarByteNum(),t=this._pos+e,r={};for(;this._pos<t;){const e=this._parseByte();if(!e)return this._emitError(new Error("Cannot parse property code type")),!1;const t=l.propertiesCodes[e];if(!t)return this._emitError(new Error("Unknown property")),!1;if("userProperties"!==t)r[t]?(Array.isArray(r[t])||(r[t]=[r[t]]),r[t].push(this._parseByType(l.propertiesTypes[t]))):r[t]=this._parseByType(l.propertiesTypes[t]);else{r[t]||(r[t]=Object.create(null));const e=this._parseByType(l.propertiesTypes[t]);if(r[t][e.name])if(Array.isArray(r[t][e.name]))r[t][e.name].push(e.value);else{const n=r[t][e.name];r[t][e.name]=[n],r[t][e.name].push(e.value)}else r[t][e.name]=e.value}}return r}_newPacket(){return f("_newPacket"),this.packet&&(this._list.consume(this.packet.length),f("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),f("_newPacket: new packet"),this.packet=new c,this._pos=0,!0}_emitError(e){f("_emitError"),this.error=e,this.emit("error",e)}}e.exports=h},2402:function(e,t,r){"use strict";const n=r(2403).Duplex,o=r(1625),c=r(2409);function l(e){if(!(this instanceof l))return new l(e);if("function"==typeof e){this._callback=e;const t=function(e){this._callback&&(this._callback(e),this._callback=null)}.bind(this);this.on("pipe",(function(e){e.on("error",t)})),this.on("unpipe",(function(e){e.removeListener("error",t)})),e=null}c._init.call(this,e),n.call(this)}o(l,n),Object.assign(l.prototype,c.prototype),l.prototype._new=function(e){return new l(e)},l.prototype._write=function(e,t,r){this._appendBuffer(e),"function"==typeof r&&r()},l.prototype._read=function(e){if(!this.length)return this.push(null);e=Math.min(e,this.length),this.push(this.slice(0,e)),this.consume(e)},l.prototype.end=function(e){n.prototype.end.call(this,e),this._callback&&(this._callback(null,this.slice()),this._callback=null)},l.prototype._destroy=function(e,t){this._bufs.length=0,this.length=0,t(e)},l.prototype._isBufferList=function(b){return b instanceof l||b instanceof c||l.isBufferList(b)},l.isBufferList=c.isBufferList,e.exports=l,e.exports.BufferListStream=l,e.exports.BufferList=c},2403:function(e,t,r){(t=e.exports=r(2014)).Stream=t,t.Readable=t,t.Writable=r(2018),t.Duplex=r(1697),t.Transform=r(2019),t.PassThrough=r(2407),t.finished=r(1885),t.pipeline=r(2408)},2404:function(e,t,r){"use strict";function n(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=r(328).Buffer,f=r(1575).inspect,h=f&&f.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,d;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,e=""+p.data;p=p.next;)e+=s+p.data;return e}},{key:"concat",value:function(e){if(0===this.length)return l.alloc(0);for(var t,r,n,o=l.allocUnsafe(e>>>0),p=this.head,i=0;p;)t=p.data,r=o,n=i,l.prototype.copy.call(t,r,n),i+=p.data.length,p=p.next;return o}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var p=this.head,t=1,r=p.data;for(e-=r.length;p=p.next;){var n=p.data,o=e>n.length?n.length:e;if(o===n.length?r+=n:r+=n.slice(0,e),0==(e-=o)){o===n.length?(++t,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++t}return this.length-=t,r}},{key:"_getBuffer",value:function(e){var t=l.allocUnsafe(e),p=this.head,r=1;for(p.data.copy(t),e-=p.data.length;p=p.next;){var n=p.data,o=e>n.length?n.length:e;if(n.copy(t,t.length-e,0,o),0==(e-=o)){o===n.length?(++r,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=n.slice(o));break}++r}return this.length-=r,t}},{key:h,value:function(e,t){return f(this,function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(t){o(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&c(t.prototype,r),d&&c(t,d),e}()},2405:function(e,t,r){"use strict";(function(t){var n;function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=r(1885),l=Symbol("lastResolve"),f=Symbol("lastReject"),h=Symbol("error"),d=Symbol("ended"),_=Symbol("lastPromise"),y=Symbol("handlePromise"),m=Symbol("stream");function v(e,t){return{value:e,done:t}}function w(e){var t=e[l];if(null!==t){var data=e[m].read();null!==data&&(e[_]=null,e[l]=null,e[f]=null,t(v(data,!1)))}}function S(e){t.nextTick(w,e)}var E=Object.getPrototypeOf((function(){})),k=Object.setPrototypeOf((o(n={get stream(){return this[m]},next:function(){var e=this,r=this[h];if(null!==r)return Promise.reject(r);if(this[d])return Promise.resolve(v(void 0,!0));if(this[m].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[h]?n(e[h]):r(v(void 0,!0))}))}));var n,o=this[_];if(o)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[d]?r(v(void 0,!0)):t[y](r,n)}),n)}}(o,this));else{var data=this[m].read();if(null!==data)return Promise.resolve(v(data,!1));n=new Promise(this[y])}return this[_]=n,n}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[m].destroy(null,(function(e){e?r(e):t(v(void 0,!0))}))}))})),n),E);e.exports=function(e){var t,r=Object.create(k,(o(t={},m,{value:e,writable:!0}),o(t,l,{value:null,writable:!0}),o(t,f,{value:null,writable:!0}),o(t,h,{value:null,writable:!0}),o(t,d,{value:e._readableState.endEmitted,writable:!0}),o(t,y,{value:function(e,t){var data=r[m].read();data?(r[_]=null,r[l]=null,r[f]=null,e(v(data,!1))):(r[l]=e,r[f]=t)},writable:!0}),t));return r[_]=null,c(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[f];return null!==t&&(r[_]=null,r[l]=null,r[f]=null,t(e)),void(r[h]=e)}var n=r[l];null!==n&&(r[_]=null,r[l]=null,r[f]=null,n(v(void 0,!0))),r[d]=!0})),e.on("readable",S.bind(null,r)),r}}).call(this,r(205))},2406:function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},2407:function(e,t,r){"use strict";e.exports=o;var n=r(2019);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}r(1625)(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},2408:function(e,t,r){"use strict";var n;var o=r(1696).codes,c=o.ERR_MISSING_ARGS,l=o.ERR_STREAM_DESTROYED;function f(e){if(e)throw e}function h(e,t,o,c){c=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(c);var f=!1;e.on("close",(function(){f=!0})),void 0===n&&(n=r(1885)),n(e,{readable:t,writable:o},(function(e){if(e)return c(e);f=!0,c()}));var h=!1;return function(t){if(!f&&!h)return h=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(e)?e.abort():"function"==typeof e.destroy?e.destroy():void c(t||new l("pipe"))}}function d(e){e()}function _(e,t){return e.pipe(t)}function y(e){return e.length?"function"!=typeof e[e.length-1]?f:e.pop():f}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=y(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new c("streams");var l=t.map((function(e,i){var r=i<t.length-1;return h(e,r,i>0,(function(e){n||(n=e),e&&l.forEach(d),r||(l.forEach(d),o(n))}))}));return t.reduce(_)}},2409:function(e,t,r){"use strict";const{Buffer:n}=r(328),symbol=Symbol.for("BufferList");function o(e){if(!(this instanceof o))return new o(e);o._init.call(this,e)}o._init=function(e){Object.defineProperty(this,symbol,{value:!0}),this._bufs=[],this.length=0,e&&this.append(e)},o.prototype._new=function(e){return new o(e)},o.prototype._offset=function(e){if(0===e)return[0,0];let t=0;for(let i=0;i<this._bufs.length;i++){const r=t+this._bufs[i].length;if(e<r||i===this._bufs.length-1)return[i,e-t];t=r}},o.prototype._reverseOffset=function(e){const t=e[0];let r=e[1];for(let i=0;i<t;i++)r+=this._bufs[i].length;return r},o.prototype.get=function(e){if(e>this.length||e<0)return;const t=this._offset(e);return this._bufs[t[0]][t[1]]},o.prototype.slice=function(e,t){return"number"==typeof e&&e<0&&(e+=this.length),"number"==typeof t&&t<0&&(t+=this.length),this.copy(null,0,e,t)},o.prototype.copy=function(e,t,r,o){if(("number"!=typeof r||r<0)&&(r=0),("number"!=typeof o||o>this.length)&&(o=this.length),r>=this.length)return e||n.alloc(0);if(o<=0)return e||n.alloc(0);const c=!!e,l=this._offset(r),f=o-r;let h=f,d=c&&t||0,_=l[1];if(0===r&&o===this.length){if(!c)return 1===this._bufs.length?this._bufs[0]:n.concat(this._bufs,this.length);for(let i=0;i<this._bufs.length;i++)this._bufs[i].copy(e,d),d+=this._bufs[i].length;return e}if(h<=this._bufs[l[0]].length-_)return c?this._bufs[l[0]].copy(e,t,_,_+h):this._bufs[l[0]].slice(_,_+h);c||(e=n.allocUnsafe(f));for(let i=l[0];i<this._bufs.length;i++){const t=this._bufs[i].length-_;if(!(h>t)){this._bufs[i].copy(e,d,_,_+h),d+=t;break}this._bufs[i].copy(e,d,_),d+=t,h-=t,_&&(_=0)}return e.length>d?e.slice(0,d):e},o.prototype.shallowSlice=function(e,t){if(e=e||0,t="number"!=typeof t?this.length:t,e<0&&(e+=this.length),t<0&&(t+=this.length),e===t)return this._new();const r=this._offset(e),n=this._offset(t),o=this._bufs.slice(r[0],n[0]+1);return 0===n[1]?o.pop():o[o.length-1]=o[o.length-1].slice(0,n[1]),0!==r[1]&&(o[0]=o[0].slice(r[1])),this._new(o)},o.prototype.toString=function(e,t,r){return this.slice(t,r).toString(e)},o.prototype.consume=function(e){if(e=Math.trunc(e),Number.isNaN(e)||e<=0)return this;for(;this._bufs.length;){if(!(e>=this._bufs[0].length)){this._bufs[0]=this._bufs[0].slice(e),this.length-=e;break}e-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift()}return this},o.prototype.duplicate=function(){const e=this._new();for(let i=0;i<this._bufs.length;i++)e.append(this._bufs[i]);return e},o.prototype.append=function(e){if(null==e)return this;if(e.buffer)this._appendBuffer(n.from(e.buffer,e.byteOffset,e.byteLength));else if(Array.isArray(e))for(let i=0;i<e.length;i++)this.append(e[i]);else if(this._isBufferList(e))for(let i=0;i<e._bufs.length;i++)this.append(e._bufs[i]);else"number"==typeof e&&(e=e.toString()),this._appendBuffer(n.from(e));return this},o.prototype._appendBuffer=function(e){this._bufs.push(e),this.length+=e.length},o.prototype.indexOf=function(e,t,r){if(void 0===r&&"string"==typeof t&&(r=t,t=void 0),"function"==typeof e||Array.isArray(e))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if("number"==typeof e?e=n.from([e]):"string"==typeof e?e=n.from(e,r):this._isBufferList(e)?e=e.slice():Array.isArray(e.buffer)?e=n.from(e.buffer,e.byteOffset,e.byteLength):n.isBuffer(e)||(e=n.from(e)),t=Number(t||0),isNaN(t)&&(t=0),t<0&&(t=this.length+t),t<0&&(t=0),0===e.length)return t>this.length?this.length:t;const o=this._offset(t);let c=o[0],l=o[1];for(;c<this._bufs.length;c++){const t=this._bufs[c];for(;l<t.length;){if(t.length-l>=e.length){const r=t.indexOf(e,l);if(-1!==r)return this._reverseOffset([c,r]);l=t.length-e.length+1}else{const t=this._reverseOffset([c,l]);if(this._match(t,e))return t;l++}}l=0}return-1},o.prototype._match=function(e,t){if(this.length-e<t.length)return!1;for(let r=0;r<t.length;r++)if(this.get(e+r)!==t[r])return!1;return!0},function(){const e={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const t in e)!function(t){o.prototype[t]=null===e[t]?function(e,r){return this.slice(e,e+r)[t](0,r)}:function(r=0){return this.slice(r,r+e[t])[t](0)}}(t)}(),o.prototype._isBufferList=function(b){return b instanceof o||o.isBufferList(b)},o.isBufferList=function(b){return null!=b&&b[symbol]},e.exports=o},2410:function(e,t){e.exports=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}},2411:function(e,t,r){e.exports=function(e){function t(e){let r,o=null;function c(...e){if(!c.enabled)return;const n=c,o=Number(new Date),l=o-(r||o);n.diff=l,n.prev=r,n.curr=o,r=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let f=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,o)=>{if("%%"===r)return"%";f++;const c=t.formatters[o];if("function"==typeof c){const t=e[f];r=c.call(n,t),e.splice(f,1),f--}return r})),t.formatArgs.call(n,e);(n.log||t.log).apply(n,e)}return c.namespace=e,c.useColors=t.useColors(),c.color=t.selectColor(e),c.extend=n,c.destroy=t.destroy,Object.defineProperty(c,"enabled",{enumerable:!0,configurable:!1,get:()=>null===o?t.enabled(e):o,set:e=>{o=e}}),"function"==typeof t.init&&t.init(c),c}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let i;t.save(e),t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length;for(i=0;i<n;i++)r[i]&&("-"===(e=r[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let i,r;for(i=0,r=t.skips.length;i<r;i++)if(t.skips[i].test(e))return!1;for(i=0,r=t.names.length;i<r;i++)if(t.names[i].test(e))return!0;return!1},t.humanize=r(2412),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let i=0;i<e.length;i++)r=(r<<5)-r+e.charCodeAt(i),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},2412:function(e,t){var s=1e3,r=60*s,n=60*r,o=24*n,c=7*o,l=365.25*o;function f(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var h=typeof e;if("string"===h&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var f=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return f*l;case"weeks":case"week":case"w":return f*c;case"days":case"day":case"d":return f*o;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*r;case"seconds":case"second":case"secs":case"sec":case"s":return f*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}(e);if("number"===h&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=o)return f(e,t,o,"day");if(t>=n)return f(e,t,n,"hour");if(t>=r)return f(e,t,r,"minute");if(t>=s)return f(e,t,s,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=o)return Math.round(e/o)+"d";if(t>=n)return Math.round(e/n)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=s)return Math.round(e/s)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2413:function(e,t,r){(function(t){const n=r(2022),o=r(1668);class c extends o{constructor(){super(),this._array=new Array(20),this._i=0}write(e){return this._array[this._i++]=e,!0}concat(){let e=0;const r=new Array(this._array.length),n=this._array;let i,o=0;for(i=0;i<n.length&&void 0!==n[i];i++)"string"!=typeof n[i]?r[i]=n[i].length:r[i]=t.byteLength(n[i]),e+=r[i];const c=t.allocUnsafe(e);for(i=0;i<n.length&&void 0!==n[i];i++)"string"!=typeof n[i]?(n[i].copy(c,o),o+=r[i]):(c.write(n[i],o),o+=r[i]);return c}}e.exports=function(e,t){const r=new c;return n(e,r,t),r.concat()}}).call(this,r(328).Buffer)},2414:function(e,t,r){(function(t){const r={},n=t.isBuffer(t.from([1,2]).subarray(0,1));function o(i){const e=t.allocUnsafe(2);return e.writeUInt8(i>>8,0),e.writeUInt8(255&i,1),e}e.exports={cache:r,generateCache:function(){for(let i=0;i<65536;i++)r[i]=o(i)},generateNumber:o,genBufVariableByteInt:function(e){let r=0,o=0;const c=t.allocUnsafe(4);do{r=e%128|0,(e=e/128|0)>0&&(r|=128),c.writeUInt8(r,o++)}while(e>0&&o<4);return e>0&&(o=0),n?c.subarray(0,o):c.slice(0,o)},generate4ByteBuffer:function(e){const r=t.allocUnsafe(4);return r.writeUInt32BE(e,0),r}}}).call(this,r(328).Buffer)},2415:function(e,t,r){"use strict";function n(e,t,r){var n=this;this._callback=e,this._args=r,this._interval=setInterval(e,t,this._args),this.reschedule=function(e){e||(e=n._interval),n._interval&&clearInterval(n._interval),n._interval=setInterval(n._callback,e,n._args)},this.clear=function(){n._interval&&(clearInterval(n._interval),n._interval=void 0)},this.destroy=function(){n._interval&&clearInterval(n._interval),n._callback=void 0,n._interval=void 0,n._args=void 0}}e.exports=function(){if("function"!=typeof arguments[0])throw new Error("callback needed");if("number"!=typeof arguments[1])throw new Error("interval needed");var e;if(arguments.length>0){e=new Array(arguments.length-2);for(var i=0;i<e.length;i++)e[i]=arguments[i+2]}return new n(arguments[0],arguments[1],e)}},2416:function(e,t,r){"use strict";function n(e){for(var t=e.split("/"),i=0;i<t.length;i++)if("+"!==t[i]){if("#"===t[i])return i===t.length-1;if(-1!==t[i].indexOf("+")||-1!==t[i].indexOf("#"))return!1}return!0}e.exports={validateTopics:function(e){if(0===e.length)return"empty_topic_list";for(var i=0;i<e.length;i++)if(!n(e[i]))return e[i];return null}}},2417:function(e,t,r){(function(e,n){var o;!function(c){t&&t.nodeType,e&&e.nodeType;var l="object"==typeof n&&n;l.global!==l&&l.window!==l&&l.self;var f,h=2147483647,base=36,d=/^xn--/,_=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,w=String.fromCharCode;function S(e){throw new RangeError(m[e])}function map(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function E(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+map((e=e.replace(y,".")).split("."),t).join(".")}function k(e){for(var t,r,output=[],n=0,o=e.length;n<o;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<o?56320==(64512&(r=e.charCodeAt(n++)))?output.push(((1023&t)<<10)+(1023&r)+65536):(output.push(t),n--):output.push(t);return output}function x(e){return map(e,(function(e){var output="";return e>65535&&(output+=w((e-=65536)>>>10&1023|55296),e=56320|1023&e),output+=w(e)})).join("")}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function C(e,t,r){var n=0;for(e=r?v(e/700):e>>1,e+=v(e/t);e>455;n+=base)e=v(e/35);return v(n+36*e/(e+38))}function I(input){var e,t,r,n,o,c,l,f,d,_,y,output=[],m=input.length,i=0,w=128,E=72;for((t=input.lastIndexOf("-"))<0&&(t=0),r=0;r<t;++r)input.charCodeAt(r)>=128&&S("not-basic"),output.push(input.charCodeAt(r));for(n=t>0?t+1:0;n<m;){for(o=i,c=1,l=base;n>=m&&S("invalid-input"),((f=(y=input.charCodeAt(n++))-48<10?y-22:y-65<26?y-65:y-97<26?y-97:base)>=base||f>v((h-i)/c))&&S("overflow"),i+=f*c,!(f<(d=l<=E?1:l>=E+26?26:l-E));l+=base)c>v(h/(_=base-d))&&S("overflow"),c*=_;E=C(i-o,e=output.length+1,0==o),v(i/e)>h-w&&S("overflow"),w+=v(i/e),i%=e,output.splice(i++,0,w)}return x(output)}function R(input){var e,t,r,n,o,c,l,q,f,d,_,y,m,E,x,output=[];for(y=(input=k(input)).length,e=128,t=0,o=72,c=0;c<y;++c)(_=input[c])<128&&output.push(w(_));for(r=n=output.length,n&&output.push("-");r<y;){for(l=h,c=0;c<y;++c)(_=input[c])>=e&&_<l&&(l=_);for(l-e>v((h-t)/(m=r+1))&&S("overflow"),t+=(l-e)*m,e=l,c=0;c<y;++c)if((_=input[c])<e&&++t>h&&S("overflow"),_==e){for(q=t,f=base;!(q<(d=f<=o?1:f>=o+26?26:f-o));f+=base)x=q-d,E=base-d,output.push(w(O(d+x%E,0))),q=v(x/E);output.push(w(O(q,0))),o=C(t,m,r==n),t=0,++r}++t,++e}return output.join("")}f={version:"1.4.1",ucs2:{decode:k,encode:x},decode:I,encode:R,toASCII:function(input){return E(input,(function(e){return _.test(e)?"xn--"+R(e):e}))},toUnicode:function(input){return E(input,(function(e){return d.test(e)?I(e.slice(4).toLowerCase()):e}))}},void 0===(o=function(){return f}.call(t,r,t,e))||(e.exports=o)}()}).call(this,r(1886)(e),r(60))},2418:function(e,t,r){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},2419:function(e,t,r){"use strict";t.decode=t.parse=r(2420),t.encode=t.stringify=r(2421)},2420:function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,c){t=t||"&",r=r||"=";var l={};if("string"!=typeof e||0===e.length)return l;var f=/\+/g;e=e.split(t);var h=1e3;c&&"number"==typeof c.maxKeys&&(h=c.maxKeys);var d=e.length;h>0&&d>h&&(d=h);for(var i=0;i<d;++i){var _,y,m,v,w=e[i].replace(f,"%20"),S=w.indexOf(r);S>=0?(_=w.substr(0,S),y=w.substr(S+1)):(_=w,y=""),m=decodeURIComponent(_),v=decodeURIComponent(y),n(l,m)?o(l[m])?l[m].push(v):l[m]=[l[m],v]:l[m]=v}return l};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},2421:function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,r,l){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?map(c(e),(function(c){var l=encodeURIComponent(n(c))+r;return o(e[c])?map(e[c],(function(e){return l+encodeURIComponent(n(e))})).join(t):l+encodeURIComponent(n(e[c]))})).join(t):l?encodeURIComponent(n(l))+r+encodeURIComponent(n(e)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var r=[],i=0;i<e.length;i++)r.push(t(e[i],i));return r}var c=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},2422:function(e,t,r){(function(t){var n=r(2423),o=function(){},c=function(e,r,l){if("function"==typeof r)return c(e,null,r);r||(r={}),l=n(l||o);var f=e._writableState,h=e._readableState,d=r.readable||!1!==r.readable&&e.readable,_=r.writable||!1!==r.writable&&e.writable,y=!1,m=function(){e.writable||v()},v=function(){_=!1,d||l.call(e)},w=function(){d=!1,_||l.call(e)},S=function(t){l.call(e,t?new Error("exited with error code: "+t):null)},E=function(t){l.call(e,t)},k=function(){t.nextTick(x)},x=function(){if(!y)return(!d||h&&h.ended&&!h.destroyed)&&(!_||f&&f.ended&&!f.destroyed)?void 0:l.call(e,new Error("premature close"))},O=function(){e.req.on("finish",v)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?_&&!f&&(e.on("end",m),e.on("close",m)):(e.on("complete",v),e.on("abort",k),e.req?O():e.on("request",O)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",S),e.on("end",w),e.on("finish",v),!1!==r.error&&e.on("error",E),e.on("close",k),function(){y=!0,e.removeListener("complete",v),e.removeListener("abort",k),e.removeListener("request",O),e.req&&e.req.removeListener("finish",v),e.removeListener("end",m),e.removeListener("close",m),e.removeListener("finish",v),e.removeListener("exit",S),e.removeListener("end",w),e.removeListener("error",E),e.removeListener("close",k)}};e.exports=c}).call(this,r(205))},2423:function(e,t,r){var n=r(2424);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function c(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}e.exports=n(o),e.exports.strict=n(c),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return c(this)},configurable:!0})}))},2424:function(e,t){e.exports=function e(t,r){if(t&&r)return e(t)(r);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){n[e]=t[e]})),n;function n(){for(var e=new Array(arguments.length),i=0;i<e.length;i++)e[i]=arguments[i];var r=t.apply(this,e),n=e[e.length-1];return"function"==typeof r&&r!==n&&Object.keys(n).forEach((function(e){r[e]=n[e]})),r}}},2425:function(e,t){e.exports=function(e){var t=e._readableState;return t?t.objectMode||"number"==typeof e._duplexState?e.read():e.read(function(e){if(e.buffer.length)return e.buffer.head?e.buffer.head.data.length:e.buffer[0].length;return e.length}(t)):null}},2426:function(e,t,r){"use strict";(function(t,n){var o=r(1692).Transform,c=r(1888),l=r(2427),f=r(1744).Buffer;e.exports=function(e,r,h){var d,_,y="browser"===t.title,m=!!n.WebSocket,v=y?function e(t,r,n){if(_.bufferedAmount>S)return void setTimeout(e,E,t,r,n);x&&"string"==typeof t&&(t=f.from(t,"utf8"));try{_.send(t)}catch(e){return n(e)}n()}:function(e,t,r){if(_.readyState!==_.OPEN)return void r();x&&"string"==typeof e&&(e=f.from(e,"utf8"));_.send(e,r)};r&&!Array.isArray(r)&&"object"==typeof r&&(h=r,r=null,("string"==typeof h.protocol||Array.isArray(h.protocol))&&(r=h.protocol));h||(h={});void 0===h.objectMode&&(h.objectMode=!(!0===h.binary||void 0===h.binary));var w=function(e,t,r){var n=new o({objectMode:e.objectMode});return n._write=t,n._flush=r,n}(h,v,(function(e){_.close(),e()}));h.objectMode||(w._writev=T);var S=h.browserBufferSize||524288,E=h.browserBufferTimeout||1e3;"object"==typeof e?_=e:(_=m&&y?new l(e,r):new l(e,r,h)).binaryType="arraybuffer";var k=void 0===_.addEventListener;_.readyState===_.OPEN?d=w:(d=d=c(void 0,void 0,h),h.objectMode||(d._writev=T),k?_.addEventListener("open",O):_.onopen=O);d.socket=_,k?(_.addEventListener("close",C),_.addEventListener("error",I),_.addEventListener("message",R)):(_.onclose=C,_.onerror=I,_.onmessage=R);w.on("close",(function(){_.close()}));var x=!h.objectMode;function O(){d.setReadable(w),d.setWritable(w),d.emit("connect")}function C(){d.end(),d.destroy()}function I(e){d.destroy(e)}function R(e){var data=e.data;data=data instanceof ArrayBuffer?f.from(data):f.from(data,"utf8"),w.push(data)}function T(e,t){for(var r=new Array(e.length),i=0;i<e.length;i++)"string"==typeof e[i].chunk?r[i]=f.from(e[i],"utf8"):r[i]=e[i].chunk;this._write(f.concat(r),"binary",t)}return d}}).call(this,r(205),r(60))},2427:function(e,t){var r=null;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:"undefined"!=typeof window&&(r=window.WebSocket||window.MozWebSocket),e.exports=r}}]);